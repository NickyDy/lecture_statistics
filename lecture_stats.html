<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Николай Дяков">
<meta name="dcterms.date" content="2023-03-25">

<title>Анализ на данни, визуализация и тестване на хипотези.</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="lecture_stats_files/libs/clipboard/clipboard.min.js"></script>
<script src="lecture_stats_files/libs/quarto-html/quarto.js"></script>
<script src="lecture_stats_files/libs/quarto-html/popper.min.js"></script>
<script src="lecture_stats_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="lecture_stats_files/libs/quarto-html/anchor.min.js"></script>
<link href="lecture_stats_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="lecture_stats_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="lecture_stats_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="lecture_stats_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="lecture_stats_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Анализ на данни, визуализация и тестване на хипотези.</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Николай Дяков </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">March 25, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="i.-първи-стъпки-с-r-и-rstudio.-импортиране-на-данни." class="level3">
<h3 class="anchored" data-anchor-id="i.-първи-стъпки-с-r-и-rstudio.-импортиране-на-данни.">I. Първи стъпки с R и RStudio. Импортиране на данни.</h3>
<ol type="1">
<li>Последователни стъпки при анализа на данни.</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="data_analysis_steps.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Последователни стъпки при анализа на данни <span class="citation" data-cites="wickham2016r">(<a href="#ref-wickham2016r" role="doc-biblioref">Wickham and Grolemund 2016</a>)</span></figcaption><p></p>
</figure>
</div>
<ol start="2" type="1">
<li>Инсталиране на R.</li>
</ol>
<p><a href="https://cloud.r-project.org/" class="uri">https://cloud.r-project.org/</a></p>
<ol start="3" type="1">
<li>Инсталиране на RStudio.</li>
</ol>
<p><a href="https://posit.co/download/rstudio-desktop/" class="uri">https://posit.co/download/rstudio-desktop/</a></p>
<ol start="4" type="1">
<li>Какво представлява RStudio.</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="rstudio-panes-labeled.jpeg" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Компоненти на RStudio.</figcaption><p></p>
</figure>
</div>
<ol start="5" type="1">
<li>Инсталитране и деинсталиране на библиотеки/пакети.</li>
</ol>
<p>install.packages(“tidyverse”)</p>
<p>remove.packages(“tidyverse”)</p>
<ol start="6" type="1">
<li>Стартиране на код - Ctrl + Enter.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="sc">+</span> <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">6</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>(x <span class="sc">+</span> y)<span class="sc">^</span><span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 256</code></pre>
</div>
</div>
<ol start="7" type="1">
<li>Импортиране на данни.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>students <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"students.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>students <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://pos.it/r4ds-students-csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="8" type="1">
<li>Бърз преглед на структурата на данните.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(students)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 6
Columns: 5
$ `Student ID`   &lt;dbl&gt; 1, 2, 3, 4, 5, 6
$ `Full Name`    &lt;chr&gt; "Sunil Huffmann", "Barclay Lynn", "Jayendra Lyne", "Leo…
$ favourite.food &lt;chr&gt; "Strawberry yoghurt", "French fries", "N/A", "Anchovies…
$ mealPlan       &lt;chr&gt; "Lunch only", "Lunch only", "Breakfast and lunch", "Lun…
$ AGE            &lt;chr&gt; "4", "5", "7", NA, "five", "6"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>diss <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"diss.csv"</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(diss)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 157
Columns: 36
$ plot        &lt;chr&gt; "sw1085nnw", "sw1130n", "sw1250nw", "sw1276nnw", "sw1319n"…
$ com         &lt;chr&gt; "a", "a", "a", "a", "a", "a", "a", "a", "b", "b", "b", "b"…
$ veg_type    &lt;chr&gt; "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f", "f"…
$ exp         &lt;chr&gt; "een_nnw", "n_ne_nne", "e_nw", "een_nnw", "n_ne_nne", "n_n…
$ top         &lt;chr&gt; "convex", "flat", "convex", "concave", "concave", "flat", …
$ elev        &lt;dbl&gt; 1085, 1130, 1250, 1276, 1319, 1140, 1215, 1300, 1301, 1156…
$ slope       &lt;dbl&gt; 36, 34, 24, 26, 27, 32, 24, 23, 28, 14, 9, 19, 29, 29, 24,…
$ s_ha        &lt;dbl&gt; 42, 33, 37, 33, 30, 40, 30, 43, 24, 26, 17, 11, 17, 21, 20…
$ s_m2        &lt;dbl&gt; 2, 2, 6, 3, 2, 6, 5, 5, 5, 2, 2, 0, 1, 2, 2, 5, 2, 3, 4, 3…
$ n2          &lt;dbl&gt; 9, 5, 12, 8, 5, 18, 14, 11, 11, 3, 3, 2, 3, 5, 3, 8, 6, 11…
$ e           &lt;dbl&gt; 0.4, 0.4, 0.6, 0.5, 0.4, 0.8, 0.7, 0.5, 0.7, 0.4, 0.5, 0.6…
$ invasive    &lt;dbl&gt; 0, 0, 1, 1, 0, 2, 0, 0, 0, 0, 1, 0, 1, 0, 2, 3, 1, 1, 0, 2…
$ rare        &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
$ tree_cover  &lt;dbl&gt; 85, 90, 80, 85, 90, 95, 85, 80, 90, 90, 90, 90, 85, 90, 85…
$ shrub_cover &lt;dbl&gt; 3, 2, 2, 0, 0, 0, 0, 0, 0, 4, 0, 0, 1, 0, 1, 2, 0, 0, 1, 1…
$ herb_cover  &lt;dbl&gt; 1, 3, 4, 1, 6, 16, 3, 20, 13, 2, 4, 0, 2, 3, 0, 6, 2, 3, 3…
$ ph          &lt;dbl&gt; 13, 9, 12, 9, 5, 11, 7, 9, 3, 5, 3, 4, 2, 5, 7, 7, 4, 6, 5…
$ ch          &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
$ h           &lt;dbl&gt; 23, 20, 20, 19, 20, 24, 20, 29, 18, 20, 14, 6, 14, 14, 13,…
$ cr          &lt;dbl&gt; 6, 4, 5, 5, 4, 4, 3, 5, 3, 1, 0, 1, 0, 2, 0, 3, 1, 3, 1, 1…
$ th          &lt;dbl&gt; 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 4, 1, 1, 1, 0…
$ trees       &lt;dbl&gt; 4, 4, 4, 2, 2, 7, 3, 4, 2, 3, 1, 3, 2, 4, 2, 4, 3, 5, 3, 4…
$ shrubs      &lt;dbl&gt; 9, 5, 8, 7, 3, 4, 4, 5, 1, 2, 2, 1, 0, 1, 5, 3, 1, 1, 2, 2…
$ semishrubs  &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
$ perennials  &lt;dbl&gt; 28, 24, 25, 24, 24, 27, 22, 34, 21, 21, 13, 7, 14, 16, 13,…
$ biennials   &lt;dbl&gt; 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
$ annuals     &lt;dbl&gt; 0, 0, 0, 0, 1, 2, 0, 0, 0, 0, 1, 0, 1, 0, 0, 5, 1, 1, 1, 0…
$ x1_5        &lt;dbl&gt; 45, 100, 166, 5, 10, 32, 32, 6, 6, 143, 14, 23, 56, 11, 26…
$ x5_10       &lt;dbl&gt; 63, 130, 265, 14, 24, 91, 134, 50, 17, 52, 2, 49, 19, 36, …
$ x10_15      &lt;dbl&gt; 38, 77, 153, 28, 23, 52, 82, 86, 6, 13, 9, 34, 21, 33, 20,…
$ x15_20      &lt;dbl&gt; 21, 33, 18, 29, 25, 37, 61, 83, 17, 8, 7, 40, 10, 24, 33, …
$ x20_25      &lt;dbl&gt; 20, 26, 4, 19, 17, 27, 17, 39, 22, 26, 13, 24, 8, 16, 27, …
$ x25_30      &lt;dbl&gt; 5, 3, 4, 11, 20, 0, 12, 4, 11, 24, 8, 8, 5, 9, 19, 19, 13,…
$ x30_35      &lt;dbl&gt; 0, 0, 0, 10, 11, 0, 0, 0, 10, 17, 10, 15, 8, 8, 6, 1, 10, …
$ x_35        &lt;dbl&gt; 3, 0, 0, 5, 1, 0, 4, 0, 9, 12, 23, 14, 27, 11, 5, 8, 15, 0…
$ total_stems &lt;dbl&gt; 195, 369, 610, 121, 131, 239, 342, 268, 98, 295, 86, 207, …</code></pre>
</div>
</div>
<ol start="9" type="1">
<li>Отстраняване на нежелани стойности още при импортирането.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>students <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"students.csv"</span>, <span class="at">na =</span> <span class="fu">c</span>(<span class="st">"N/A"</span>, <span class="st">"NA"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="10" type="1">
<li>Дефиниране типа на колонките още при импортирането.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>students <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"students.csv"</span>, <span class="at">na =</span> <span class="fu">c</span>(<span class="st">"N/A"</span>, <span class="st">"NA"</span>), <span class="at">col_types =</span> <span class="st">"icccd"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="11" type="1">
<li>Преименуване на колонките.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>students <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">student_id =</span> <span class="st">`</span><span class="at">Student ID</span><span class="st">`</span>, <span class="at">full_name =</span> <span class="st">`</span><span class="at">Full Name</span><span class="st">`</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
  student_id full_name        favourite.food     mealPlan              AGE
       &lt;int&gt; &lt;chr&gt;            &lt;chr&gt;              &lt;chr&gt;               &lt;dbl&gt;
1          1 Sunil Huffmann   Strawberry yoghurt Lunch only              4
2          2 Barclay Lynn     French fries       Lunch only              5
3          3 Jayendra Lyne    &lt;NA&gt;               Breakfast and lunch     7
4          4 Leon Rossini     Anchovies          Lunch only             NA
5          5 Chidiegwu Dunkel Pizza              Breakfast and lunch    NA
6          6 Güvenç Attila    Ice cream          Lunch only              6</code></pre>
</div>
</div>
<ol start="12" type="1">
<li>Автоматично преименуване.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>students <span class="sc">%&gt;%</span> <span class="fu">clean_names</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
  student_id full_name        favourite_food     meal_plan             age
       &lt;int&gt; &lt;chr&gt;            &lt;chr&gt;              &lt;chr&gt;               &lt;dbl&gt;
1          1 Sunil Huffmann   Strawberry yoghurt Lunch only              4
2          2 Barclay Lynn     French fries       Lunch only              5
3          3 Jayendra Lyne    &lt;NA&gt;               Breakfast and lunch     7
4          4 Leon Rossini     Anchovies          Lunch only             NA
5          5 Chidiegwu Dunkel Pizza              Breakfast and lunch    NA
6          6 Güvenç Attila    Ice cream          Lunch only              6</code></pre>
</div>
</div>
<ol start="13" type="1">
<li>Импортиране на други типове файлове.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">read_tsv</span>() <span class="co"># разделител tab</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">read_delim</span>() <span class="co"># неизвестен разделител</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="fu">read_excel</span>() <span class="co"># екселски файл</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="14" type="1">
<li>Запис на файл.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(students, <span class="st">"students_clean.csv"</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write_rds</span>(students, <span class="st">"students_clean.rds"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="15" type="1">
<li>Създаване на данни в R.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">5</span>), </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">y =</span> <span class="fu">c</span>(<span class="st">"h"</span>, <span class="st">"m"</span>, <span class="st">"g"</span>),</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">z =</span> <span class="fu">c</span>(<span class="fl">0.08</span>, <span class="fl">0.83</span>, <span class="fl">0.60</span>)</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
      x y         z
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 h      0.08
2     2 m      0.83
3     5 g      0.6 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tribble</span>(</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>x, <span class="sc">~</span>y, <span class="sc">~</span>z,</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"h"</span>, <span class="dv">1</span>, <span class="fl">0.08</span>,</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"m"</span>, <span class="dv">2</span>, <span class="fl">0.83</span>,</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"g"</span>, <span class="dv">5</span>, <span class="fl">0.60</span>,</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 3
  x         y     z
  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;
1 h         1  0.08
2 m         2  0.83
3 g         5  0.6 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">integer =</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">50</span>), <span class="dv">100</span>, <span class="at">replace =</span> T),</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">double =</span> <span class="fu">rnorm</span>(<span class="dv">100</span>),</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">character =</span> <span class="fu">sample</span>(letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">26</span>], <span class="dv">100</span>, <span class="at">replace =</span> T),</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">factor =</span> <span class="fu">factor</span>(<span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">"tree"</span>, <span class="st">"animal"</span>, <span class="st">"fungi"</span>), <span class="dv">100</span>, <span class="at">replace =</span> T)),</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">logical =</span> <span class="fu">as.logical</span>(<span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">"TRUE"</span>, <span class="st">"FALSE"</span>), <span class="dv">100</span>, <span class="at">replace =</span> T)),</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">date =</span> <span class="fu">Sys.Date</span>() <span class="sc">-</span> <span class="dv">100</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(df)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 100
Columns: 6
$ integer   &lt;int&gt; 11, 31, 13, 8, 42, 2, 49, 14, 47, 33, 3, 6, 16, 48, 27, 6, 4…
$ double    &lt;dbl&gt; 2.41438413, 0.51985087, -0.15709846, -0.29350514, 1.63476898…
$ character &lt;chr&gt; "w", "l", "c", "r", "t", "e", "r", "o", "m", "t", "q", "y", …
$ factor    &lt;fct&gt; fungi, fungi, animal, animal, fungi, animal, tree, tree, tre…
$ logical   &lt;lgl&gt; FALSE, TRUE, TRUE, FALSE, TRUE, TRUE, FALSE, FALSE, TRUE, TR…
$ date      &lt;date&gt; 2022-12-17, 2022-12-17, 2022-12-17, 2022-12-17, 2022-12-17,…</code></pre>
</div>
</div>
</section>
<section id="ii.-трансформиране-на-данните." class="level3">
<h3 class="anchored" data-anchor-id="ii.-трансформиране-на-данните.">II. Трансформиране на данните.</h3>
<ol type="1">
<li>Tidyverse и Dplyr.</li>
</ol>
<p><img src="tidyverse2.png" class="img-fluid"></p>
<ol start="2" type="1">
<li>Филтриране на редове с функцията filter().</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">filter</span>(elev <span class="sc">&gt;</span> <span class="dv">1500</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 56 × 36
   plot  com   veg_type exp   top    elev slope  s_ha  s_m2    n2     e invasive
   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
 1 e155… c     f        n_ne… flat   1550    16    25     6    11   0.7        0
 2 e160… c     f        e_nw  conv…  1600    26    35     7    13   0.6        0
 3 e170… c     f        e_nw  conc…  1701    19    33     7    13   0.7        1
 4 see1… c     f        s_sw… flat   1519    26    34     5    14   0.7        2
 5 sse1… c     f        een_… conc…  1514    30    37     4     9   0.5        1
 6 sse1… c     f        een_… conv…  1549    20    17     2     3   0.5        0
 7 see1… d     f        e_nw  flat   1552    27    39     6    10   0.5        2
 8 see1… d     f        se_w  flat   1601    20    24     3     7   0.6        1
 9 see1… d     f        e_nw  conv…  1636    28    21     2     5   0.5        2
10 sse1… d     f        s_sw… flat   1574    25    13     1     3   0.5        1
# ℹ 46 more rows
# ℹ 24 more variables: rare &lt;dbl&gt;, tree_cover &lt;dbl&gt;, shrub_cover &lt;dbl&gt;,
#   herb_cover &lt;dbl&gt;, ph &lt;dbl&gt;, ch &lt;dbl&gt;, h &lt;dbl&gt;, cr &lt;dbl&gt;, th &lt;dbl&gt;,
#   trees &lt;dbl&gt;, shrubs &lt;dbl&gt;, semishrubs &lt;dbl&gt;, perennials &lt;dbl&gt;,
#   biennials &lt;dbl&gt;, annuals &lt;dbl&gt;, x1_5 &lt;dbl&gt;, x5_10 &lt;dbl&gt;, x10_15 &lt;dbl&gt;,
#   x15_20 &lt;dbl&gt;, x20_25 &lt;dbl&gt;, x25_30 &lt;dbl&gt;, x30_35 &lt;dbl&gt;, x_35 &lt;dbl&gt;,
#   total_stems &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">filter</span>(elev <span class="sc">&gt;</span> <span class="dv">1500</span> <span class="sc">&amp;</span> top <span class="sc">==</span> <span class="st">"flat"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 28 × 36
   plot  com   veg_type exp   top    elev slope  s_ha  s_m2    n2     e invasive
   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
 1 e155… c     f        n_ne… flat   1550    16    25     6    11   0.7        0
 2 see1… c     f        s_sw… flat   1519    26    34     5    14   0.7        2
 3 see1… d     f        e_nw  flat   1552    27    39     6    10   0.5        2
 4 see1… d     f        se_w  flat   1601    20    24     3     7   0.6        1
 5 sse1… d     f        s_sw… flat   1574    25    13     1     3   0.5        1
 6 se15… f     f        e_nw  flat   1530    26    43     8    23   0.8        2
 7 se15… f     f        s_sw… flat   1586    25    45     5    17   0.6        7
 8 s180… j     s        s_sw… flat   1800    16    55    15    31   0.8        1
 9 s160… k     s        sse_… flat   1600    17    74    23    44   0.8        6
10 sse1… k     s        ees_… flat   1600    17    60    17    34   0.8        4
# ℹ 18 more rows
# ℹ 24 more variables: rare &lt;dbl&gt;, tree_cover &lt;dbl&gt;, shrub_cover &lt;dbl&gt;,
#   herb_cover &lt;dbl&gt;, ph &lt;dbl&gt;, ch &lt;dbl&gt;, h &lt;dbl&gt;, cr &lt;dbl&gt;, th &lt;dbl&gt;,
#   trees &lt;dbl&gt;, shrubs &lt;dbl&gt;, semishrubs &lt;dbl&gt;, perennials &lt;dbl&gt;,
#   biennials &lt;dbl&gt;, annuals &lt;dbl&gt;, x1_5 &lt;dbl&gt;, x5_10 &lt;dbl&gt;, x10_15 &lt;dbl&gt;,
#   x15_20 &lt;dbl&gt;, x20_25 &lt;dbl&gt;, x25_30 &lt;dbl&gt;, x30_35 &lt;dbl&gt;, x_35 &lt;dbl&gt;,
#   total_stems &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">filter</span>(top <span class="sc">==</span> <span class="st">"concave"</span> <span class="sc">|</span> exp <span class="sc">==</span> <span class="st">"e_nw"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 53 × 36
   plot  com   veg_type exp   top    elev slope  s_ha  s_m2    n2     e invasive
   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
 1 sw12… a     f        e_nw  conv…  1250    24    37     6    12   0.6        1
 2 sw12… a     f        een_… conc…  1276    26    33     3     8   0.5        1
 3 sw13… a     f        n_ne… conc…  1319    27    30     2     5   0.4        0
 4 ssw1… b     f        e_nw  flat   1305    29    17     1     3   0.5        1
 5 sw12… b     f        e_nw  conc…  1288    24    20     2     3   0.4        2
 6 w118… b     f        een_… conc…  1185    16    34     3    11   0.6        1
 7 w137… b     f        sse_… conc…  1370    15    28     3     7   0.5        2
 8 e144… c     f        e_nw  flat   1446    23    14     1     4   0.6        0
 9 e160… c     f        e_nw  conv…  1600    26    35     7    13   0.6        0
10 e170… c     f        e_nw  conc…  1701    19    33     7    13   0.7        1
# ℹ 43 more rows
# ℹ 24 more variables: rare &lt;dbl&gt;, tree_cover &lt;dbl&gt;, shrub_cover &lt;dbl&gt;,
#   herb_cover &lt;dbl&gt;, ph &lt;dbl&gt;, ch &lt;dbl&gt;, h &lt;dbl&gt;, cr &lt;dbl&gt;, th &lt;dbl&gt;,
#   trees &lt;dbl&gt;, shrubs &lt;dbl&gt;, semishrubs &lt;dbl&gt;, perennials &lt;dbl&gt;,
#   biennials &lt;dbl&gt;, annuals &lt;dbl&gt;, x1_5 &lt;dbl&gt;, x5_10 &lt;dbl&gt;, x10_15 &lt;dbl&gt;,
#   x15_20 &lt;dbl&gt;, x20_25 &lt;dbl&gt;, x25_30 &lt;dbl&gt;, x30_35 &lt;dbl&gt;, x_35 &lt;dbl&gt;,
#   total_stems &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">filter</span>(com <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20 × 36
   plot  com   veg_type exp   top    elev slope  s_ha  s_m2    n2     e invasive
   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
 1 sw10… a     f        een_… conv…  1085    36    42     2     9   0.4        0
 2 sw11… a     f        n_ne… flat   1130    34    33     2     5   0.4        0
 3 sw12… a     f        e_nw  conv…  1250    24    37     6    12   0.6        1
 4 sw12… a     f        een_… conc…  1276    26    33     3     8   0.5        1
 5 sw13… a     f        n_ne… conc…  1319    27    30     2     5   0.4        0
 6 sww1… a     f        n_ne… flat   1140    32    40     6    18   0.8        2
 7 sww1… a     f        n_ne… flat   1215    24    30     5    14   0.7        0
 8 sww1… a     f        n_ne… flat   1300    23    43     5    11   0.5        0
 9 e130… b     f        een_… flat   1301    28    24     5    11   0.7        0
10 s115… b     f        n_ne… flat   1156    14    26     2     3   0.4        0
11 s128… b     f        ees_… conv…  1280     9    17     2     3   0.5        1
12 ssw1… b     f        een_… conv…  1229    19    11     0     2   0.6        0
13 ssw1… b     f        e_nw  flat   1305    29    17     1     3   0.5        1
14 sw12… b     f        een_… flat   1201    29    21     2     5   0.5        0
15 sw12… b     f        e_nw  conc…  1288    24    20     2     3   0.4        2
16 sw13… b     f        een_… flat   1335    24    36     5     8   0.5        3
17 sww1… b     f        se_w  flat   1340    16    23     2     6   0.5        1
18 w118… b     f        een_… conc…  1185    16    34     3    11   0.6        1
19 w122… b     f        n_ne… flat   1220    27    40     4     9   0.4        0
20 w137… b     f        sse_… conc…  1370    15    28     3     7   0.5        2
# ℹ 24 more variables: rare &lt;dbl&gt;, tree_cover &lt;dbl&gt;, shrub_cover &lt;dbl&gt;,
#   herb_cover &lt;dbl&gt;, ph &lt;dbl&gt;, ch &lt;dbl&gt;, h &lt;dbl&gt;, cr &lt;dbl&gt;, th &lt;dbl&gt;,
#   trees &lt;dbl&gt;, shrubs &lt;dbl&gt;, semishrubs &lt;dbl&gt;, perennials &lt;dbl&gt;,
#   biennials &lt;dbl&gt;, annuals &lt;dbl&gt;, x1_5 &lt;dbl&gt;, x5_10 &lt;dbl&gt;, x10_15 &lt;dbl&gt;,
#   x15_20 &lt;dbl&gt;, x20_25 &lt;dbl&gt;, x25_30 &lt;dbl&gt;, x30_35 &lt;dbl&gt;, x_35 &lt;dbl&gt;,
#   total_stems &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>diss_up_to_1000 <span class="ot">&lt;-</span> diss <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="sc">!</span>elev <span class="sc">&gt;</span> <span class="dv">1500</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="3" type="1">
<li>Подреждане с функцията arrange().</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(elev)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 157 × 36
   plot  com   veg_type exp   top    elev slope  s_ha  s_m2    n2     e invasive
   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
 1 sww9… h     f        sse_… conv…   926    14    33     3    16   0.7        4
 2 sww9… h     f        een_… flat    960    15    60     9    28   0.7        8
 3 w967… h     f        een_… flat    967    11    66     7    28   0.7        9
 4 sww9… i     f        een_… flat    970    27    39     4    11   0.5        1
 5 sww9… i     f        e_nw  conv…   980     9    70    11    27   0.7        6
 6 ssw1… i     f        sse_… conv…  1010    17    37     7    16   0.7        1
 7 w103… h     f        n_ne… flat   1035     7    76     6    31   0.7       12
 8 sww1… i     f        e_nw  flat   1039    22    36    12    19   0.8        2
 9 w105… h     f        se_w  flat   1055    22    51     6    21   0.7        4
10 sww1… i     f        e_nw  flat   1072    17    37     3    16   0.7        1
# ℹ 147 more rows
# ℹ 24 more variables: rare &lt;dbl&gt;, tree_cover &lt;dbl&gt;, shrub_cover &lt;dbl&gt;,
#   herb_cover &lt;dbl&gt;, ph &lt;dbl&gt;, ch &lt;dbl&gt;, h &lt;dbl&gt;, cr &lt;dbl&gt;, th &lt;dbl&gt;,
#   trees &lt;dbl&gt;, shrubs &lt;dbl&gt;, semishrubs &lt;dbl&gt;, perennials &lt;dbl&gt;,
#   biennials &lt;dbl&gt;, annuals &lt;dbl&gt;, x1_5 &lt;dbl&gt;, x5_10 &lt;dbl&gt;, x10_15 &lt;dbl&gt;,
#   x15_20 &lt;dbl&gt;, x20_25 &lt;dbl&gt;, x25_30 &lt;dbl&gt;, x30_35 &lt;dbl&gt;, x_35 &lt;dbl&gt;,
#   total_stems &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">arrange</span>(<span class="fu">desc</span>(elev))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 157 × 36
   plot  com   veg_type exp   top    elev slope  s_ha  s_m2    n2     e invasive
   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
 1 e212… m     s        e_nw  flat   2121    16    39    11    20   0.8        2
 2 se21… m     s        s_sw… conc…  2105     8    36    12    19   0.8        0
 3 sse2… m     s        s_sw… conv…  2096    10    36     9    16   0.7        1
 4 see2… m     s        s_sw… conc…  2039    13    40    13    21   0.8        3
 5 e202… m     s        e_nw  conc…  2020    22    53    11    33   0.8        3
 6 se20… l     s        s_sw… conc…  2000     7    56    16    34   0.8        4
 7 sww2… l     s        e_nw  conv…  2000    19    45    13    24   0.8        3
 8 sw20… m     s        sse_… conc…  2000    16    41     9    23   0.8        3
 9 w200… m     s        se_w  flat   2000    17    38    12    22   0.8        1
10 s200… n     s        s_sw… conv…  2000    10    53    13    28   0.8        2
# ℹ 147 more rows
# ℹ 24 more variables: rare &lt;dbl&gt;, tree_cover &lt;dbl&gt;, shrub_cover &lt;dbl&gt;,
#   herb_cover &lt;dbl&gt;, ph &lt;dbl&gt;, ch &lt;dbl&gt;, h &lt;dbl&gt;, cr &lt;dbl&gt;, th &lt;dbl&gt;,
#   trees &lt;dbl&gt;, shrubs &lt;dbl&gt;, semishrubs &lt;dbl&gt;, perennials &lt;dbl&gt;,
#   biennials &lt;dbl&gt;, annuals &lt;dbl&gt;, x1_5 &lt;dbl&gt;, x5_10 &lt;dbl&gt;, x10_15 &lt;dbl&gt;,
#   x15_20 &lt;dbl&gt;, x20_25 &lt;dbl&gt;, x25_30 &lt;dbl&gt;, x30_35 &lt;dbl&gt;, x_35 &lt;dbl&gt;,
#   total_stems &lt;dbl&gt;</code></pre>
</div>
</div>
<ol start="4" type="1">
<li>Уникални редове с функцията distinct().</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">distinct</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 157 × 36
   plot  com   veg_type exp   top    elev slope  s_ha  s_m2    n2     e invasive
   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
 1 sw10… a     f        een_… conv…  1085    36    42     2     9   0.4        0
 2 sw11… a     f        n_ne… flat   1130    34    33     2     5   0.4        0
 3 sw12… a     f        e_nw  conv…  1250    24    37     6    12   0.6        1
 4 sw12… a     f        een_… conc…  1276    26    33     3     8   0.5        1
 5 sw13… a     f        n_ne… conc…  1319    27    30     2     5   0.4        0
 6 sww1… a     f        n_ne… flat   1140    32    40     6    18   0.8        2
 7 sww1… a     f        n_ne… flat   1215    24    30     5    14   0.7        0
 8 sww1… a     f        n_ne… flat   1300    23    43     5    11   0.5        0
 9 e130… b     f        een_… flat   1301    28    24     5    11   0.7        0
10 s115… b     f        n_ne… flat   1156    14    26     2     3   0.4        0
# ℹ 147 more rows
# ℹ 24 more variables: rare &lt;dbl&gt;, tree_cover &lt;dbl&gt;, shrub_cover &lt;dbl&gt;,
#   herb_cover &lt;dbl&gt;, ph &lt;dbl&gt;, ch &lt;dbl&gt;, h &lt;dbl&gt;, cr &lt;dbl&gt;, th &lt;dbl&gt;,
#   trees &lt;dbl&gt;, shrubs &lt;dbl&gt;, semishrubs &lt;dbl&gt;, perennials &lt;dbl&gt;,
#   biennials &lt;dbl&gt;, annuals &lt;dbl&gt;, x1_5 &lt;dbl&gt;, x5_10 &lt;dbl&gt;, x10_15 &lt;dbl&gt;,
#   x15_20 &lt;dbl&gt;, x20_25 &lt;dbl&gt;, x25_30 &lt;dbl&gt;, x30_35 &lt;dbl&gt;, x_35 &lt;dbl&gt;,
#   total_stems &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">distinct</span>(top, exp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 21 × 2
   top     exp     
   &lt;chr&gt;   &lt;chr&gt;   
 1 convex  een_nnw 
 2 flat    n_ne_nne
 3 convex  e_nw    
 4 concave een_nnw 
 5 concave n_ne_nne
 6 flat    een_nnw 
 7 convex  ees_wwn 
 8 flat    e_nw    
 9 concave e_nw    
10 flat    se_w    
# ℹ 11 more rows</code></pre>
</div>
</div>
<ol start="5" type="1">
<li>Преброяване на уникалните редове с функцията count().</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">count</span>(top, exp)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 21 × 3
   top     exp          n
   &lt;chr&gt;   &lt;chr&gt;    &lt;int&gt;
 1 concave e_nw         7
 2 concave een_nnw      3
 3 concave ees_wwn      2
 4 concave n_ne_nne     3
 5 concave s_sw_ssw     5
 6 concave se_w         5
 7 concave sse_wws      2
 8 convex  e_nw         9
 9 convex  een_nnw      7
10 convex  ees_wwn      5
# ℹ 11 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">count</span>(top, exp, <span class="at">sort =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 21 × 3
   top     exp          n
   &lt;chr&gt;   &lt;chr&gt;    &lt;int&gt;
 1 flat    n_ne_nne    21
 2 flat    e_nw        17
 3 flat    s_sw_ssw    17
 4 flat    een_nnw     11
 5 flat    se_w        11
 6 convex  e_nw         9
 7 concave e_nw         7
 8 convex  een_nnw      7
 9 convex  s_sw_ssw     6
10 convex  se_w         6
# ℹ 11 more rows</code></pre>
</div>
</div>
<ol start="6" type="1">
<li>Създаване на нови колонки с функцията mutate().</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">elev_slope =</span> elev<span class="sc">/</span>slope) <span class="sc">%&gt;%</span> <span class="fu">View</span>()</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">elev_slope =</span> elev<span class="sc">/</span>slope, <span class="at">.after =</span> slope) <span class="sc">%&gt;%</span> <span class="fu">View</span>()</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">elev_slope =</span> elev<span class="sc">/</span>slope, <span class="at">.after =</span> slope, <span class="at">.keep =</span> <span class="st">"used"</span>) <span class="sc">%&gt;%</span> <span class="fu">View</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="7" type="1">
<li>Избор на колонки с функцията select().</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">select</span>(com, elev, slope)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 157 × 3
   com    elev slope
   &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 a      1085    36
 2 a      1130    34
 3 a      1250    24
 4 a      1276    26
 5 a      1319    27
 6 a      1140    32
 7 a      1215    24
 8 a      1300    23
 9 b      1301    28
10 b      1156    14
# ℹ 147 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">select</span>(com<span class="sc">:</span>slope)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 157 × 6
   com   veg_type exp      top      elev slope
   &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt;
 1 a     f        een_nnw  convex   1085    36
 2 a     f        n_ne_nne flat     1130    34
 3 a     f        e_nw     convex   1250    24
 4 a     f        een_nnw  concave  1276    26
 5 a     f        n_ne_nne concave  1319    27
 6 a     f        n_ne_nne flat     1140    32
 7 a     f        n_ne_nne flat     1215    24
 8 a     f        n_ne_nne flat     1300    23
 9 b     f        een_nnw  flat     1301    28
10 b     f        n_ne_nne flat     1156    14
# ℹ 147 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="sc">!</span>com<span class="sc">:</span>slope)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 157 × 30
   plot        s_ha  s_m2    n2     e invasive  rare tree_cover shrub_cover
   &lt;chr&gt;      &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;
 1 sw1085nnw     42     2     9   0.4        0     0         85           3
 2 sw1130n       33     2     5   0.4        0     0         90           2
 3 sw1250nw      37     6    12   0.6        1     0         80           2
 4 sw1276nnw     33     3     8   0.5        1     0         85           0
 5 sw1319n       30     2     5   0.4        0     0         90           0
 6 sww1140nne    40     6    18   0.8        2     0         95           0
 7 sww1215n      30     5    14   0.7        0     0         85           0
 8 sww1300n      43     5    11   0.5        0     0         80           0
 9 e1301nnw      24     5    11   0.7        0     0         90           0
10 s1156ne       26     2     3   0.4        0     0         90           4
# ℹ 147 more rows
# ℹ 21 more variables: herb_cover &lt;dbl&gt;, ph &lt;dbl&gt;, ch &lt;dbl&gt;, h &lt;dbl&gt;, cr &lt;dbl&gt;,
#   th &lt;dbl&gt;, trees &lt;dbl&gt;, shrubs &lt;dbl&gt;, semishrubs &lt;dbl&gt;, perennials &lt;dbl&gt;,
#   biennials &lt;dbl&gt;, annuals &lt;dbl&gt;, x1_5 &lt;dbl&gt;, x5_10 &lt;dbl&gt;, x10_15 &lt;dbl&gt;,
#   x15_20 &lt;dbl&gt;, x20_25 &lt;dbl&gt;, x25_30 &lt;dbl&gt;, x30_35 &lt;dbl&gt;, x_35 &lt;dbl&gt;,
#   total_stems &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">where</span>(is.character))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 157 × 5
   plot       com   veg_type exp      top    
   &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;  
 1 sw1085nnw  a     f        een_nnw  convex 
 2 sw1130n    a     f        n_ne_nne flat   
 3 sw1250nw   a     f        e_nw     convex 
 4 sw1276nnw  a     f        een_nnw  concave
 5 sw1319n    a     f        n_ne_nne concave
 6 sww1140nne a     f        n_ne_nne flat   
 7 sww1215n   a     f        n_ne_nne flat   
 8 sww1300n   a     f        n_ne_nne flat   
 9 e1301nnw   b     f        een_nnw  flat   
10 s1156ne    b     f        n_ne_nne flat   
# ℹ 147 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">where</span>(is.numeric))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 157 × 31
    elev slope  s_ha  s_m2    n2     e invasive  rare tree_cover shrub_cover
   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;
 1  1085    36    42     2     9   0.4        0     0         85           3
 2  1130    34    33     2     5   0.4        0     0         90           2
 3  1250    24    37     6    12   0.6        1     0         80           2
 4  1276    26    33     3     8   0.5        1     0         85           0
 5  1319    27    30     2     5   0.4        0     0         90           0
 6  1140    32    40     6    18   0.8        2     0         95           0
 7  1215    24    30     5    14   0.7        0     0         85           0
 8  1300    23    43     5    11   0.5        0     0         80           0
 9  1301    28    24     5    11   0.7        0     0         90           0
10  1156    14    26     2     3   0.4        0     0         90           4
# ℹ 147 more rows
# ℹ 21 more variables: herb_cover &lt;dbl&gt;, ph &lt;dbl&gt;, ch &lt;dbl&gt;, h &lt;dbl&gt;, cr &lt;dbl&gt;,
#   th &lt;dbl&gt;, trees &lt;dbl&gt;, shrubs &lt;dbl&gt;, semishrubs &lt;dbl&gt;, perennials &lt;dbl&gt;,
#   biennials &lt;dbl&gt;, annuals &lt;dbl&gt;, x1_5 &lt;dbl&gt;, x5_10 &lt;dbl&gt;, x10_15 &lt;dbl&gt;,
#   x15_20 &lt;dbl&gt;, x20_25 &lt;dbl&gt;, x25_30 &lt;dbl&gt;, x30_35 &lt;dbl&gt;, x_35 &lt;dbl&gt;,
#   total_stems &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"x"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 157 × 8
    x1_5 x5_10 x10_15 x15_20 x20_25 x25_30 x30_35  x_35
   &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
 1    45    63     38     21     20      5      0     3
 2   100   130     77     33     26      3      0     0
 3   166   265    153     18      4      4      0     0
 4     5    14     28     29     19     11     10     5
 5    10    24     23     25     17     20     11     1
 6    32    91     52     37     27      0      0     0
 7    32   134     82     61     17     12      0     4
 8     6    50     86     83     39      4      0     0
 9     6    17      6     17     22     11     10     9
10   143    52     13      8     26     24     17    12
# ℹ 147 more rows</code></pre>
</div>
</div>
<ol start="8" type="1">
<li>Преименуване на колонки с функцията rename().</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">elev_m =</span> elev)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 157 × 36
   plot       com   veg_type exp      top   elev_m slope  s_ha  s_m2    n2     e
   &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 sw1085nnw  a     f        een_nnw  conv…   1085    36    42     2     9   0.4
 2 sw1130n    a     f        n_ne_nne flat    1130    34    33     2     5   0.4
 3 sw1250nw   a     f        e_nw     conv…   1250    24    37     6    12   0.6
 4 sw1276nnw  a     f        een_nnw  conc…   1276    26    33     3     8   0.5
 5 sw1319n    a     f        n_ne_nne conc…   1319    27    30     2     5   0.4
 6 sww1140nne a     f        n_ne_nne flat    1140    32    40     6    18   0.8
 7 sww1215n   a     f        n_ne_nne flat    1215    24    30     5    14   0.7
 8 sww1300n   a     f        n_ne_nne flat    1300    23    43     5    11   0.5
 9 e1301nnw   b     f        een_nnw  flat    1301    28    24     5    11   0.7
10 s1156ne    b     f        n_ne_nne flat    1156    14    26     2     3   0.4
# ℹ 147 more rows
# ℹ 25 more variables: invasive &lt;dbl&gt;, rare &lt;dbl&gt;, tree_cover &lt;dbl&gt;,
#   shrub_cover &lt;dbl&gt;, herb_cover &lt;dbl&gt;, ph &lt;dbl&gt;, ch &lt;dbl&gt;, h &lt;dbl&gt;, cr &lt;dbl&gt;,
#   th &lt;dbl&gt;, trees &lt;dbl&gt;, shrubs &lt;dbl&gt;, semishrubs &lt;dbl&gt;, perennials &lt;dbl&gt;,
#   biennials &lt;dbl&gt;, annuals &lt;dbl&gt;, x1_5 &lt;dbl&gt;, x5_10 &lt;dbl&gt;, x10_15 &lt;dbl&gt;,
#   x15_20 &lt;dbl&gt;, x20_25 &lt;dbl&gt;, x25_30 &lt;dbl&gt;, x30_35 &lt;dbl&gt;, x_35 &lt;dbl&gt;,
#   total_stems &lt;dbl&gt;</code></pre>
</div>
</div>
<ol start="9" type="1">
<li>Преместване на колонки с функцията relocate().</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">relocate</span>(elev, slope)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 157 × 36
    elev slope plot  com   veg_type exp   top    s_ha  s_m2    n2     e invasive
   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
 1  1085    36 sw10… a     f        een_… conv…    42     2     9   0.4        0
 2  1130    34 sw11… a     f        n_ne… flat     33     2     5   0.4        0
 3  1250    24 sw12… a     f        e_nw  conv…    37     6    12   0.6        1
 4  1276    26 sw12… a     f        een_… conc…    33     3     8   0.5        1
 5  1319    27 sw13… a     f        n_ne… conc…    30     2     5   0.4        0
 6  1140    32 sww1… a     f        n_ne… flat     40     6    18   0.8        2
 7  1215    24 sww1… a     f        n_ne… flat     30     5    14   0.7        0
 8  1300    23 sww1… a     f        n_ne… flat     43     5    11   0.5        0
 9  1301    28 e130… b     f        een_… flat     24     5    11   0.7        0
10  1156    14 s115… b     f        n_ne… flat     26     2     3   0.4        0
# ℹ 147 more rows
# ℹ 24 more variables: rare &lt;dbl&gt;, tree_cover &lt;dbl&gt;, shrub_cover &lt;dbl&gt;,
#   herb_cover &lt;dbl&gt;, ph &lt;dbl&gt;, ch &lt;dbl&gt;, h &lt;dbl&gt;, cr &lt;dbl&gt;, th &lt;dbl&gt;,
#   trees &lt;dbl&gt;, shrubs &lt;dbl&gt;, semishrubs &lt;dbl&gt;, perennials &lt;dbl&gt;,
#   biennials &lt;dbl&gt;, annuals &lt;dbl&gt;, x1_5 &lt;dbl&gt;, x5_10 &lt;dbl&gt;, x10_15 &lt;dbl&gt;,
#   x15_20 &lt;dbl&gt;, x20_25 &lt;dbl&gt;, x25_30 &lt;dbl&gt;, x30_35 &lt;dbl&gt;, x_35 &lt;dbl&gt;,
#   total_stems &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">relocate</span>(elev<span class="sc">:</span>s_m2, <span class="at">.before =</span> plot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 157 × 36
    elev slope  s_ha  s_m2 plot  com   veg_type exp   top      n2     e invasive
   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
 1  1085    36    42     2 sw10… a     f        een_… conv…     9   0.4        0
 2  1130    34    33     2 sw11… a     f        n_ne… flat      5   0.4        0
 3  1250    24    37     6 sw12… a     f        e_nw  conv…    12   0.6        1
 4  1276    26    33     3 sw12… a     f        een_… conc…     8   0.5        1
 5  1319    27    30     2 sw13… a     f        n_ne… conc…     5   0.4        0
 6  1140    32    40     6 sww1… a     f        n_ne… flat     18   0.8        2
 7  1215    24    30     5 sww1… a     f        n_ne… flat     14   0.7        0
 8  1300    23    43     5 sww1… a     f        n_ne… flat     11   0.5        0
 9  1301    28    24     5 e130… b     f        een_… flat     11   0.7        0
10  1156    14    26     2 s115… b     f        n_ne… flat      3   0.4        0
# ℹ 147 more rows
# ℹ 24 more variables: rare &lt;dbl&gt;, tree_cover &lt;dbl&gt;, shrub_cover &lt;dbl&gt;,
#   herb_cover &lt;dbl&gt;, ph &lt;dbl&gt;, ch &lt;dbl&gt;, h &lt;dbl&gt;, cr &lt;dbl&gt;, th &lt;dbl&gt;,
#   trees &lt;dbl&gt;, shrubs &lt;dbl&gt;, semishrubs &lt;dbl&gt;, perennials &lt;dbl&gt;,
#   biennials &lt;dbl&gt;, annuals &lt;dbl&gt;, x1_5 &lt;dbl&gt;, x5_10 &lt;dbl&gt;, x10_15 &lt;dbl&gt;,
#   x15_20 &lt;dbl&gt;, x20_25 &lt;dbl&gt;, x25_30 &lt;dbl&gt;, x30_35 &lt;dbl&gt;, x_35 &lt;dbl&gt;,
#   total_stems &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">relocate</span>(<span class="fu">starts_with</span>(<span class="st">"x"</span>), <span class="at">.before =</span> plot)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 157 × 36
    x1_5 x5_10 x10_15 x15_20 x20_25 x25_30 x30_35  x_35 plot      com   veg_type
   &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt; &lt;chr&gt;   
 1    45    63     38     21     20      5      0     3 sw1085nnw a     f       
 2   100   130     77     33     26      3      0     0 sw1130n   a     f       
 3   166   265    153     18      4      4      0     0 sw1250nw  a     f       
 4     5    14     28     29     19     11     10     5 sw1276nnw a     f       
 5    10    24     23     25     17     20     11     1 sw1319n   a     f       
 6    32    91     52     37     27      0      0     0 sww1140n… a     f       
 7    32   134     82     61     17     12      0     4 sww1215n  a     f       
 8     6    50     86     83     39      4      0     0 sww1300n  a     f       
 9     6    17      6     17     22     11     10     9 e1301nnw  b     f       
10   143    52     13      8     26     24     17    12 s1156ne   b     f       
# ℹ 147 more rows
# ℹ 25 more variables: exp &lt;chr&gt;, top &lt;chr&gt;, elev &lt;dbl&gt;, slope &lt;dbl&gt;,
#   s_ha &lt;dbl&gt;, s_m2 &lt;dbl&gt;, n2 &lt;dbl&gt;, e &lt;dbl&gt;, invasive &lt;dbl&gt;, rare &lt;dbl&gt;,
#   tree_cover &lt;dbl&gt;, shrub_cover &lt;dbl&gt;, herb_cover &lt;dbl&gt;, ph &lt;dbl&gt;, ch &lt;dbl&gt;,
#   h &lt;dbl&gt;, cr &lt;dbl&gt;, th &lt;dbl&gt;, trees &lt;dbl&gt;, shrubs &lt;dbl&gt;, semishrubs &lt;dbl&gt;,
#   perennials &lt;dbl&gt;, biennials &lt;dbl&gt;, annuals &lt;dbl&gt;, total_stems &lt;dbl&gt;</code></pre>
</div>
</div>
<ol start="10" type="1">
<li>Оператора “pipe” - %&gt;%.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> </span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(elev <span class="sc">&gt;</span> <span class="dv">1500</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">elev_slope =</span> elev <span class="sc">/</span> slope) <span class="sc">%&gt;%</span> </span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(plot, elev, slope, elev_slope) <span class="sc">%&gt;%</span> </span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(elev_slope))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 56 × 4
   plot        elev slope elev_slope
   &lt;chr&gt;      &lt;dbl&gt; &lt;dbl&gt;      &lt;dbl&gt;
 1 se2000ssw   2000     7       286.
 2 se2105s     2105     8       263.
 3 s1900ssw    1900     9       211.
 4 sse2096sw   2096    10       210.
 5 s2000sw     2000    10       200 
 6 sse2000s    2000    10       200 
 7 ssw1906sw   1906    10       191.
 8 sse1900s    1900    10       190 
 9 w1513ssw    1513     8       189.
10 ssw1515sww  1515     9       168.
# ℹ 46 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">arrange</span>(</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(</span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>        diss, </span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>        elev <span class="sc">&gt;</span> <span class="dv">1500</span></span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">elev_slope =</span> elev <span class="sc">/</span> slope</span>
<span id="cb69-9"><a href="#cb69-9" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb69-10"><a href="#cb69-10" aria-hidden="true" tabindex="-1"></a>    plot, elev, slope, elev_slope</span>
<span id="cb69-11"><a href="#cb69-11" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb69-12"><a href="#cb69-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">desc</span>(elev_slope)</span>
<span id="cb69-13"><a href="#cb69-13" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 56 × 4
   plot        elev slope elev_slope
   &lt;chr&gt;      &lt;dbl&gt; &lt;dbl&gt;      &lt;dbl&gt;
 1 se2000ssw   2000     7       286.
 2 se2105s     2105     8       263.
 3 s1900ssw    1900     9       211.
 4 sse2096sw   2096    10       210.
 5 s2000sw     2000    10       200 
 6 sse2000s    2000    10       200 
 7 ssw1906sw   1906    10       191.
 8 sse1900s    1900    10       190 
 9 w1513ssw    1513     8       189.
10 ssw1515sww  1515     9       168.
# ℹ 46 more rows</code></pre>
</div>
</div>
<ol start="11" type="1">
<li>Групиране с функцията group_by().</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(top)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 157 × 36
# Groups:   top [3]
   plot  com   veg_type exp   top    elev slope  s_ha  s_m2    n2     e invasive
   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
 1 sw10… a     f        een_… conv…  1085    36    42     2     9   0.4        0
 2 sw11… a     f        n_ne… flat   1130    34    33     2     5   0.4        0
 3 sw12… a     f        e_nw  conv…  1250    24    37     6    12   0.6        1
 4 sw12… a     f        een_… conc…  1276    26    33     3     8   0.5        1
 5 sw13… a     f        n_ne… conc…  1319    27    30     2     5   0.4        0
 6 sww1… a     f        n_ne… flat   1140    32    40     6    18   0.8        2
 7 sww1… a     f        n_ne… flat   1215    24    30     5    14   0.7        0
 8 sww1… a     f        n_ne… flat   1300    23    43     5    11   0.5        0
 9 e130… b     f        een_… flat   1301    28    24     5    11   0.7        0
10 s115… b     f        n_ne… flat   1156    14    26     2     3   0.4        0
# ℹ 147 more rows
# ℹ 24 more variables: rare &lt;dbl&gt;, tree_cover &lt;dbl&gt;, shrub_cover &lt;dbl&gt;,
#   herb_cover &lt;dbl&gt;, ph &lt;dbl&gt;, ch &lt;dbl&gt;, h &lt;dbl&gt;, cr &lt;dbl&gt;, th &lt;dbl&gt;,
#   trees &lt;dbl&gt;, shrubs &lt;dbl&gt;, semishrubs &lt;dbl&gt;, perennials &lt;dbl&gt;,
#   biennials &lt;dbl&gt;, annuals &lt;dbl&gt;, x1_5 &lt;dbl&gt;, x5_10 &lt;dbl&gt;, x10_15 &lt;dbl&gt;,
#   x15_20 &lt;dbl&gt;, x20_25 &lt;dbl&gt;, x25_30 &lt;dbl&gt;, x30_35 &lt;dbl&gt;, x_35 &lt;dbl&gt;,
#   total_stems &lt;dbl&gt;</code></pre>
</div>
</div>
<ol start="12" type="1">
<li>Резюмиране/преизчисляване с функцията summarize().</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(top) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">m_elev =</span> <span class="fu">mean</span>(elev))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  top     m_elev
  &lt;chr&gt;    &lt;dbl&gt;
1 concave  1589.
2 convex   1423.
3 flat     1417.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>students <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(mealPlan) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">s =</span> <span class="fu">sum</span>(AGE))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  mealPlan                s
  &lt;chr&gt;               &lt;dbl&gt;
1 Breakfast and lunch    NA
2 Lunch only             NA</code></pre>
</div>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>students <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(mealPlan) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">s =</span> <span class="fu">sum</span>(AGE, <span class="at">na.rm =</span> T))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  mealPlan                s
  &lt;chr&gt;               &lt;dbl&gt;
1 Breakfast and lunch     7
2 Lunch only             15</code></pre>
</div>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>students <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(mealPlan) <span class="sc">%&gt;%</span> <span class="fu">summarise</span>(<span class="at">s =</span> <span class="fu">sum</span>(AGE, <span class="at">na.rm =</span> T), <span class="at">n =</span> <span class="fu">n</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 3
  mealPlan                s     n
  &lt;chr&gt;               &lt;dbl&gt; &lt;int&gt;
1 Breakfast and lunch     7     2
2 Lunch only             15     4</code></pre>
</div>
</div>
<ol start="13" type="1">
<li>Функцията slice_().</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 36
   plot  com   veg_type exp   top    elev slope  s_ha  s_m2    n2     e invasive
   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
 1 sw10… a     f        een_… conv…  1085    36    42     2     9   0.4        0
 2 sw11… a     f        n_ne… flat   1130    34    33     2     5   0.4        0
 3 sw12… a     f        e_nw  conv…  1250    24    37     6    12   0.6        1
 4 sw12… a     f        een_… conc…  1276    26    33     3     8   0.5        1
 5 sw13… a     f        n_ne… conc…  1319    27    30     2     5   0.4        0
 6 sww1… a     f        n_ne… flat   1140    32    40     6    18   0.8        2
 7 sww1… a     f        n_ne… flat   1215    24    30     5    14   0.7        0
 8 sww1… a     f        n_ne… flat   1300    23    43     5    11   0.5        0
 9 e130… b     f        een_… flat   1301    28    24     5    11   0.7        0
10 s115… b     f        n_ne… flat   1156    14    26     2     3   0.4        0
# ℹ 24 more variables: rare &lt;dbl&gt;, tree_cover &lt;dbl&gt;, shrub_cover &lt;dbl&gt;,
#   herb_cover &lt;dbl&gt;, ph &lt;dbl&gt;, ch &lt;dbl&gt;, h &lt;dbl&gt;, cr &lt;dbl&gt;, th &lt;dbl&gt;,
#   trees &lt;dbl&gt;, shrubs &lt;dbl&gt;, semishrubs &lt;dbl&gt;, perennials &lt;dbl&gt;,
#   biennials &lt;dbl&gt;, annuals &lt;dbl&gt;, x1_5 &lt;dbl&gt;, x5_10 &lt;dbl&gt;, x10_15 &lt;dbl&gt;,
#   x15_20 &lt;dbl&gt;, x20_25 &lt;dbl&gt;, x25_30 &lt;dbl&gt;, x30_35 &lt;dbl&gt;, x_35 &lt;dbl&gt;,
#   total_stems &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">slice_tail</span>(<span class="at">n =</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 36
   plot  com   veg_type exp   top    elev slope  s_ha  s_m2    n2     e invasive
   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
 1 see1… m     s        ees_… flat   1838    13    39    14    22   0.8        0
 2 see1… m     s        se_w  conc…  1940    20    60    13    32   0.8        3
 3 see2… m     s        s_sw… conc…  2039    13    40    13    21   0.8        3
 4 sse2… m     s        s_sw… conv…  2096    10    36     9    16   0.7        1
 5 sw20… m     s        sse_… conc…  2000    16    41     9    23   0.8        3
 6 w200… m     s        se_w  flat   2000    17    38    12    22   0.8        1
 7 s190… n     s        s_sw… flat   1900     9    64    16    34   0.8        3
 8 s200… n     s        s_sw… conv…  2000    10    53    13    28   0.8        2
 9 sse1… n     s        s_sw… conv…  1900    10    52    17    29   0.8        2
10 sse2… n     s        s_sw… conc…  2000    10    60    11    31   0.7        3
# ℹ 24 more variables: rare &lt;dbl&gt;, tree_cover &lt;dbl&gt;, shrub_cover &lt;dbl&gt;,
#   herb_cover &lt;dbl&gt;, ph &lt;dbl&gt;, ch &lt;dbl&gt;, h &lt;dbl&gt;, cr &lt;dbl&gt;, th &lt;dbl&gt;,
#   trees &lt;dbl&gt;, shrubs &lt;dbl&gt;, semishrubs &lt;dbl&gt;, perennials &lt;dbl&gt;,
#   biennials &lt;dbl&gt;, annuals &lt;dbl&gt;, x1_5 &lt;dbl&gt;, x5_10 &lt;dbl&gt;, x10_15 &lt;dbl&gt;,
#   x15_20 &lt;dbl&gt;, x20_25 &lt;dbl&gt;, x25_30 &lt;dbl&gt;, x30_35 &lt;dbl&gt;, x_35 &lt;dbl&gt;,
#   total_stems &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">slice_min</span>(<span class="at">order_by =</span> elev, <span class="at">n =</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 36
   plot  com   veg_type exp   top    elev slope  s_ha  s_m2    n2     e invasive
   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
 1 sww9… h     f        sse_… conv…   926    14    33     3    16   0.7        4
 2 sww9… h     f        een_… flat    960    15    60     9    28   0.7        8
 3 w967… h     f        een_… flat    967    11    66     7    28   0.7        9
 4 sww9… i     f        een_… flat    970    27    39     4    11   0.5        1
 5 sww9… i     f        e_nw  conv…   980     9    70    11    27   0.7        6
 6 ssw1… i     f        sse_… conv…  1010    17    37     7    16   0.7        1
 7 w103… h     f        n_ne… flat   1035     7    76     6    31   0.7       12
 8 sww1… i     f        e_nw  flat   1039    22    36    12    19   0.8        2
 9 w105… h     f        se_w  flat   1055    22    51     6    21   0.7        4
10 sww1… i     f        e_nw  flat   1072    17    37     3    16   0.7        1
# ℹ 24 more variables: rare &lt;dbl&gt;, tree_cover &lt;dbl&gt;, shrub_cover &lt;dbl&gt;,
#   herb_cover &lt;dbl&gt;, ph &lt;dbl&gt;, ch &lt;dbl&gt;, h &lt;dbl&gt;, cr &lt;dbl&gt;, th &lt;dbl&gt;,
#   trees &lt;dbl&gt;, shrubs &lt;dbl&gt;, semishrubs &lt;dbl&gt;, perennials &lt;dbl&gt;,
#   biennials &lt;dbl&gt;, annuals &lt;dbl&gt;, x1_5 &lt;dbl&gt;, x5_10 &lt;dbl&gt;, x10_15 &lt;dbl&gt;,
#   x15_20 &lt;dbl&gt;, x20_25 &lt;dbl&gt;, x25_30 &lt;dbl&gt;, x30_35 &lt;dbl&gt;, x_35 &lt;dbl&gt;,
#   total_stems &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">slice_max</span>(<span class="at">order_by =</span> elev, <span class="at">n =</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 11 × 36
   plot  com   veg_type exp   top    elev slope  s_ha  s_m2    n2     e invasive
   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
 1 e212… m     s        e_nw  flat   2121    16    39    11    20   0.8        2
 2 se21… m     s        s_sw… conc…  2105     8    36    12    19   0.8        0
 3 sse2… m     s        s_sw… conv…  2096    10    36     9    16   0.7        1
 4 see2… m     s        s_sw… conc…  2039    13    40    13    21   0.8        3
 5 e202… m     s        e_nw  conc…  2020    22    53    11    33   0.8        3
 6 se20… l     s        s_sw… conc…  2000     7    56    16    34   0.8        4
 7 sww2… l     s        e_nw  conv…  2000    19    45    13    24   0.8        3
 8 sw20… m     s        sse_… conc…  2000    16    41     9    23   0.8        3
 9 w200… m     s        se_w  flat   2000    17    38    12    22   0.8        1
10 s200… n     s        s_sw… conv…  2000    10    53    13    28   0.8        2
11 sse2… n     s        s_sw… conc…  2000    10    60    11    31   0.7        3
# ℹ 24 more variables: rare &lt;dbl&gt;, tree_cover &lt;dbl&gt;, shrub_cover &lt;dbl&gt;,
#   herb_cover &lt;dbl&gt;, ph &lt;dbl&gt;, ch &lt;dbl&gt;, h &lt;dbl&gt;, cr &lt;dbl&gt;, th &lt;dbl&gt;,
#   trees &lt;dbl&gt;, shrubs &lt;dbl&gt;, semishrubs &lt;dbl&gt;, perennials &lt;dbl&gt;,
#   biennials &lt;dbl&gt;, annuals &lt;dbl&gt;, x1_5 &lt;dbl&gt;, x5_10 &lt;dbl&gt;, x10_15 &lt;dbl&gt;,
#   x15_20 &lt;dbl&gt;, x20_25 &lt;dbl&gt;, x25_30 &lt;dbl&gt;, x30_35 &lt;dbl&gt;, x_35 &lt;dbl&gt;,
#   total_stems &lt;dbl&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 36
   plot  com   veg_type exp   top    elev slope  s_ha  s_m2    n2     e invasive
   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
 1 sww1… d     f        n_ne… flat   1385    17    21     3     6   0.5        2
 2 see1… m     s        ees_… flat   1838    13    39    14    22   0.8        0
 3 w108… d     f        n_ne… flat   1080    24    29     3     7   0.5        2
 4 ssw1… e     f        n_ne… flat   1397    17     9     2     2   0.6        0
 5 sse1… c     f        een_… conc…  1514    30    37     4     9   0.5        1
 6 se12… g     f        ees_… flat   1260     4    62     6    23   0.6        6
 7 see1… c     f        s_sw… flat   1519    26    34     5    14   0.7        2
 8 sww1… i     f        e_nw  flat   1039    22    36    12    19   0.8        2
 9 ssw1… f     f        se_w  conv…  1154    28    26     2     6   0.5        1
10 ssw1… d     f        e_nw  conv…  1317    27    22     2     4   0.5        0
# ℹ 24 more variables: rare &lt;dbl&gt;, tree_cover &lt;dbl&gt;, shrub_cover &lt;dbl&gt;,
#   herb_cover &lt;dbl&gt;, ph &lt;dbl&gt;, ch &lt;dbl&gt;, h &lt;dbl&gt;, cr &lt;dbl&gt;, th &lt;dbl&gt;,
#   trees &lt;dbl&gt;, shrubs &lt;dbl&gt;, semishrubs &lt;dbl&gt;, perennials &lt;dbl&gt;,
#   biennials &lt;dbl&gt;, annuals &lt;dbl&gt;, x1_5 &lt;dbl&gt;, x5_10 &lt;dbl&gt;, x10_15 &lt;dbl&gt;,
#   x15_20 &lt;dbl&gt;, x20_25 &lt;dbl&gt;, x25_30 &lt;dbl&gt;, x30_35 &lt;dbl&gt;, x_35 &lt;dbl&gt;,
#   total_stems &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="iii.-изчистванеспретване-на-данните." class="level3">
<h3 class="anchored" data-anchor-id="iii.-изчистванеспретване-на-данните.">III. Изчистване/спретване на данните.</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="tidy-1.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Какво се разбира под спретнати данни <span class="citation" data-cites="wickham2016r">(<a href="#ref-wickham2016r" role="doc-biblioref">Wickham and Grolemund 2016</a>)</span></figcaption><p></p>
</figure>
</div>
<ol type="1">
<li>Удължаване на данните с функцията pivot_longer().</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>id,  <span class="sc">~</span>bp1, <span class="sc">~</span>bp2,</span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>   <span class="st">"A"</span>,  <span class="dv">100</span>,  <span class="dv">120</span>,</span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a>   <span class="st">"B"</span>,  <span class="dv">140</span>,  <span class="dv">115</span>,</span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a>   <span class="st">"C"</span>,  <span class="dv">120</span>,  <span class="dv">125</span>)</span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-7"><a href="#cb91-7" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb91-8"><a href="#cb91-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb91-9"><a href="#cb91-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> bp1<span class="sc">:</span>bp2,</span>
<span id="cb91-10"><a href="#cb91-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"measurement"</span>,</span>
<span id="cb91-11"><a href="#cb91-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"value"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  id    measurement value
  &lt;chr&gt; &lt;chr&gt;       &lt;dbl&gt;
1 A     bp1           100
2 A     bp2           120
3 B     bp1           140
4 B     bp2           115
5 C     bp1           120
6 C     bp2           125</code></pre>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="longering.png" class="img-fluid figure-img" alt="Какво се случва при удължаването на данните [@wickham2016r]"></p>
<p></p><figcaption class="figure-caption">Какво се случва при удължаването на данните <span class="citation" data-cites="wickham2016r">(<a href="#ref-wickham2016r" role="doc-biblioref">Wickham and Grolemund 2016</a>)</span></figcaption><p></p>
</figure>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a>billboard <span class="sc">%&gt;%</span> <span class="fu">View</span>()</span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a>billboard <span class="sc">%&gt;%</span> </span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">starts_with</span>(<span class="st">"wk"</span>), </span>
<span id="cb93-6"><a href="#cb93-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"week"</span>, </span>
<span id="cb93-7"><a href="#cb93-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"rank"</span>) <span class="sc">%&gt;%</span> <span class="fu">View</span>()</span>
<span id="cb93-8"><a href="#cb93-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-9"><a href="#cb93-9" aria-hidden="true" tabindex="-1"></a>billboard <span class="sc">%&gt;%</span> </span>
<span id="cb93-10"><a href="#cb93-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb93-11"><a href="#cb93-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">starts_with</span>(<span class="st">"wk"</span>), </span>
<span id="cb93-12"><a href="#cb93-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"week"</span>, </span>
<span id="cb93-13"><a href="#cb93-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"rank"</span>,</span>
<span id="cb93-14"><a href="#cb93-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_drop_na =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> <span class="fu">View</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="2" type="1">
<li>Разширяване на данните с функцията pivot_wider().</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>id, <span class="sc">~</span>measurement, <span class="sc">~</span>value,</span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">"A"</span>,        <span class="st">"bp1"</span>,    <span class="dv">100</span>,</span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"B"</span>,        <span class="st">"bp1"</span>,    <span class="dv">140</span>,</span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"B"</span>,        <span class="st">"bp2"</span>,    <span class="dv">115</span>, </span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"A"</span>,        <span class="st">"bp2"</span>,    <span class="dv">120</span>,</span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"A"</span>,        <span class="st">"bp3"</span>,    <span class="dv">105</span>)</span>
<span id="cb94-8"><a href="#cb94-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb94-9"><a href="#cb94-9" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb94-10"><a href="#cb94-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(</span>
<span id="cb94-11"><a href="#cb94-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_from =</span> measurement,</span>
<span id="cb94-12"><a href="#cb94-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_from =</span> value)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 4
  id      bp1   bp2   bp3
  &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 A       100   120   105
2 B       140   115    NA</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>diss_long <span class="ot">&lt;-</span> diss <span class="sc">%&gt;%</span> </span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(plot, trees<span class="sc">:</span>annuals) <span class="sc">%&gt;%</span> </span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="sc">-</span>plot)</span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb96-5"><a href="#cb96-5" aria-hidden="true" tabindex="-1"></a>diss_long <span class="sc">%&gt;%</span> </span>
<span id="cb96-6"><a href="#cb96-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 157 × 7
   plot       trees shrubs semishrubs perennials biennials annuals
   &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;
 1 sw1085nnw      4      9          0         28         1       0
 2 sw1130n        4      5          0         24         0       0
 3 sw1250nw       4      8          0         25         0       0
 4 sw1276nnw      2      7          0         24         0       0
 5 sw1319n        2      3          0         24         0       1
 6 sww1140nne     7      4          0         27         0       2
 7 sww1215n       3      4          0         22         1       0
 8 sww1300n       4      5          0         34         0       0
 9 e1301nnw       2      1          0         21         0       0
10 s1156ne        3      2          0         21         0       0
# ℹ 147 more rows</code></pre>
</div>
</div>
</section>
<section id="iv.-визуализация-на-данните." class="level3">
<h3 class="anchored" data-anchor-id="iv.-визуализация-на-данните.">IV. Визуализация на данните.</h3>
<ol type="1">
<li>Последователни стъпки при създаване на графика/плот.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid" width="800"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(elev, slope))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid" width="800"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(elev, slope))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid" width="800"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(elev, slope)) <span class="sc">+</span></span>
<span id="cb101-2"><a href="#cb101-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid" width="800"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(elev, slope, <span class="at">color =</span> top)) <span class="sc">+</span></span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid" width="800"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(elev, slope, <span class="at">color =</span> top, <span class="at">shape =</span> top)) <span class="sc">+</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid" width="800"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(elev, slope, <span class="at">color =</span> top, <span class="at">shape =</span> top)) <span class="sc">+</span></span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"loess"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid" width="800"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(elev, slope, <span class="at">color =</span> top, <span class="at">shape =</span> top)) <span class="sc">+</span></span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"loess"</span>, <span class="at">se =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid" width="800"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(elev, slope)) <span class="sc">+</span></span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, <span class="fu">aes</span>(<span class="at">color =</span> top, <span class="at">shape =</span> top)) <span class="sc">+</span></span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"loess"</span>, <span class="at">se =</span> F)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid" width="800"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(elev, slope)) <span class="sc">+</span></span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>, <span class="fu">aes</span>(<span class="at">color =</span> top, <span class="at">shape =</span> top)) <span class="sc">+</span></span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">"loess"</span>, <span class="at">se =</span> F) <span class="sc">+</span></span>
<span id="cb107-4"><a href="#cb107-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Надморска височина (m)"</span>, <span class="at">y =</span> <span class="st">"Наклон на склона (°)"</span>,</span>
<span id="cb107-5"><a href="#cb107-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">"Взаимовръзка между надморската височина и наклона на склоновете"</span>,</span>
<span id="cb107-6"><a href="#cb107-6" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">"Топография</span><span class="sc">\n</span><span class="st">на склона"</span>, <span class="at">shape =</span> <span class="st">"Топография</span><span class="sc">\n</span><span class="st">на склона"</span>,</span>
<span id="cb107-7"><a href="#cb107-7" aria-hidden="true" tabindex="-1"></a>       <span class="at">caption =</span> <span class="st">"Източник на данните: Дяков, 2013"</span>) <span class="sc">+</span></span>
<span id="cb107-8"><a href="#cb107-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">16</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid" width="800"></p>
</div>
</div>
<ol start="2" type="1">
<li><p>Основни видове графики в ggplot2.</p>
<p>2.1. Графики, показващи разпределението на данните.</p></li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(s_ha)) <span class="sc">+</span></span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid" width="800"></p>
</div>
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(s_ha)) <span class="sc">+</span></span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-38-2.png" class="img-fluid" width="800"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(s_ha)) <span class="sc">+</span></span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-39-1.png" class="img-fluid" width="800"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(exp)) <span class="sc">+</span></span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-40-1.png" class="img-fluid" width="800"></p>
</div>
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="fu">fct_infreq</span>(exp))) <span class="sc">+</span></span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-40-2.png" class="img-fluid" width="800"></p>
</div>
</div>
<p>2.2 Визуализиране на взаимовръзки.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="EDA-boxplot.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Как да разчитаме боксплотовете<span class="citation" data-cites="wickham2016r">(<a href="#ref-wickham2016r" role="doc-biblioref">Wickham and Grolemund 2016</a>)</span></figcaption><p></p>
</figure>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(exp, s_ha)) <span class="sc">+</span></span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-41-1.png" class="img-fluid" width="800"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(s_ha, <span class="at">color =</span> top)) <span class="sc">+</span></span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-42-1.png" class="img-fluid" width="800"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(s_ha, <span class="at">color =</span> top, <span class="at">fill =</span> top)) <span class="sc">+</span></span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-43-1.png" class="img-fluid" width="800"></p>
</div>
</div>
<p>2.3. Визуализация на две номинални променливи.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(exp, <span class="at">fill =</span> top)) <span class="sc">+</span></span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-44-1.png" class="img-fluid" width="800"></p>
</div>
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(exp, <span class="at">fill =</span> top)) <span class="sc">+</span></span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"fill"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-44-2.png" class="img-fluid" width="800"></p>
</div>
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(exp, <span class="at">fill =</span> top)) <span class="sc">+</span></span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">position =</span> <span class="st">"dodge"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-44-3.png" class="img-fluid" width="800"></p>
</div>
</div>
<p>2.4. Визуализация на две числови променливи.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(elev, s_ha)) <span class="sc">+</span></span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-45-1.png" class="img-fluid" width="800"></p>
</div>
</div>
<p>2.5. Три или повече променливи.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(elev, s_ha, <span class="at">color =</span> exp, <span class="at">shape =</span> top)) <span class="sc">+</span></span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-46-1.png" class="img-fluid" width="800"></p>
</div>
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(elev, s_ha, <span class="at">color =</span> exp, <span class="at">shape =</span> top)) <span class="sc">+</span></span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> veg_type)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-46-2.png" class="img-fluid" width="800"></p>
</div>
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(elev, s_ha, <span class="at">color =</span> exp, <span class="at">shape =</span> top)) <span class="sc">+</span></span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(veg_type <span class="sc">~</span> com)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-46-3.png" class="img-fluid" width="800"></p>
</div>
</div>
<p>2.6. Запазване на графиката.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="st">"plot.png"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="v.-тестване-на-хипотези." class="level3">
<h3 class="anchored" data-anchor-id="v.-тестване-на-хипотези.">V. Тестване на хипотези.</h3>
<ol type="1">
<li>Избор на правилния тест.</li>
</ol>
<p><img src="images/flowchart-for-choosing-a-statistical-test.png" class="img-fluid"></p>
<ol start="2" type="1">
<li>Проверка за нормалност на променливите.</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="normal_dist.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Нормално разпределена променлива<span class="citation" data-cites="navarro2013learning">(<a href="#ref-navarro2013learning" role="doc-biblioref">Navarro 2013</a>)</span></figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="nonnormal_dist.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Ненормално разпределена променлива<span class="citation" data-cites="navarro2013learning">(<a href="#ref-navarro2013learning" role="doc-biblioref">Navarro 2013</a>)</span></figcaption><p></p>
</figure>
</div>
<ol start="3" type="1">
<li>Взуална проверка.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb124-3"><a href="#cb124-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-4"><a href="#cb124-4" aria-hidden="true" tabindex="-1"></a>diss <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"~/Desktop/R/data/diss.csv"</span>) <span class="sc">%&gt;%</span> <span class="fu">mutate_if</span>(is.character, as.factor)</span>
<span id="cb124-5"><a href="#cb124-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-6"><a href="#cb124-6" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> diss <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(s_ha)) <span class="sc">+</span></span>
<span id="cb124-7"><a href="#cb124-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">fill =</span> <span class="st">"blue"</span>, <span class="at">color =</span> <span class="st">"white"</span>)</span>
<span id="cb124-8"><a href="#cb124-8" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> diss <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">sample =</span> s_ha)) <span class="sc">+</span></span>
<span id="cb124-9"><a href="#cb124-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_qq</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">+</span> p2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-49-1.png" class="img-fluid" width="800"></p>
</div>
</div>
<ol start="4" type="1">
<li>Проверка с тест за нормалност (Shapiro-Wilk).</li>
</ol>
<p>H0 = променливата е нормално разпределена;</p>
<p>H1 = променливата е с ненормално разпределение.</p>
<p>При p &lt; 0.05, H0 се отхвърля и се приема H1.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jmv)</span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">select</span>(s_ha) <span class="sc">%&gt;%</span> <span class="fu">descriptives</span>(<span class="at">sw =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 DESCRIPTIVES

 Descriptives                        
 ─────────────────────────────────── 
                         s_ha        
 ─────────────────────────────────── 
   N                           157   
   Missing                       0   
   Mean                   35.59236   
   Median                 37.00000   
   Standard deviation     16.86293   
   Minimum                5.000000   
   Maximum                76.00000   
   Shapiro-Wilk W        0.9790337   
   Shapiro-Wilk p        0.0171917   
 ─────────────────────────────────── </code></pre>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="ggstatsplot_logo.png" class="img-fluid figure-img" width="200"></p>
<p></p><figcaption class="figure-caption">Източник:<span class="citation" data-cites="ggstatsplot">(<a href="#ref-ggstatsplot" role="doc-biblioref">Patil 2021a</a>)</span></figcaption><p></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="ggstatsplot_reporting.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Източник:<span class="citation" data-cites="ggstatsplot-2">(<a href="#ref-ggstatsplot-2" role="doc-biblioref">Patil 2021b</a>)</span></figcaption><p></p>
</figure>
</div>
<ol start="5" type="1">
<li><p>Сравняване на независими извадки.</p>
<p>5.1. Параметричен тест за 2 групи - Student’s and Welch’s t-test</p></li>
</ol>
<p>Условия на теста:</p>
<ul>
<li>нормалност на променливите;</li>
<li>независимост на променливите;</li>
<li>хомогенност на дисперсията.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggstatsplot)</span>
<span id="cb128-3"><a href="#cb128-3" aria-hidden="true" tabindex="-1"></a>t_test <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"~/Desktop/R/various/jam_data.xlsx"</span>, <span class="at">sheet =</span> <span class="dv">14</span>)</span>
<span id="cb128-4"><a href="#cb128-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-5"><a href="#cb128-5" aria-hidden="true" tabindex="-1"></a>t_test <span class="sc">%&gt;%</span> <span class="fu">descriptives</span>(<span class="at">splitBy =</span> <span class="st">"tutor"</span>, <span class="at">sw =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 DESCRIPTIVES

 Descriptives                                                                
 ─────────────────────────────────────────────────────────────────────────── 
                         tutor         id           tutor        grade       
 ─────────────────────────────────────────────────────────────────────────── 
   N                     Anastasia            15           15           15   
                         Bernadette           18           18           18   
   Missing               Anastasia             0            0            0   
                         Bernadette            0            0            0   
   Mean                  Anastasia      18.60000                  74.53333   
                         Bernadette     15.66667                  69.05556   
   Median                Anastasia      20.00000                  76.00000   
                         Bernadette     13.50000                  69.00000   
   Standard deviation    Anastasia      9.642169                  8.998942   
                         Bernadette     9.761871                  5.774918   
   Minimum               Anastasia      1.000000                  55.00000   
                         Bernadette     2.000000                  56.00000   
   Maximum               Anastasia      32.00000                  90.00000   
                         Bernadette     33.00000                  79.00000   
   Shapiro-Wilk W        Anastasia     0.9393693                 0.9818569   
                         Bernadette    0.9396254                 0.9690751   
   Shapiro-Wilk p        Anastasia     0.3745059                 0.9805978   
                         Bernadette    0.2855371                 0.7801262   
 ─────────────────────────────────────────────────────────────────────────── </code></pre>
</div>
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a>t_test <span class="sc">%&gt;%</span></span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggbetweenstats</span>(tutor, grade,</span>
<span id="cb130-3"><a href="#cb130-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.type =</span> <span class="st">"box"</span>, <span class="at">type =</span> <span class="st">"p"</span>, <span class="at">bf.message =</span> <span class="cn">FALSE</span>, <span class="at">xlab =</span> <span class="st">"Tutor"</span>,</span>
<span id="cb130-4"><a href="#cb130-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">ylab =</span> <span class="st">"Grade"</span>, <span class="at">centrality.type =</span> <span class="st">"p"</span>, <span class="at">centrality.point.args =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">color =</span> <span class="st">"darkred"</span>),</span>
<span id="cb130-5"><a href="#cb130-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">ggplot.component =</span> <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">18</span>), <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>)),</span>
<span id="cb130-6"><a href="#cb130-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">centrality.label.args =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">5</span>, <span class="at">nudge_x =</span> <span class="fl">0.4</span>, <span class="at">segment.linetype =</span> <span class="dv">4</span>, <span class="at">min.segment.length =</span> <span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-51-1.png" class="img-fluid" width="800"></p>
</div>
</div>
<p>5.2. Параметричен тест за &gt; 2 групи - Fisher’s and Welch’s one-way ANOVA</p>
<p>Условия на теста:</p>
<ul>
<li>нормалност на променливите;</li>
<li>независимост на променливите;</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a>one_way_anova <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"~/Desktop/R/various/jam_data.xlsx"</span>, <span class="at">sheet =</span> <span class="dv">20</span>)</span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-3"><a href="#cb131-3" aria-hidden="true" tabindex="-1"></a>one_way_anova <span class="sc">%&gt;%</span> <span class="fu">descriptives</span>(<span class="at">splitBy =</span> <span class="st">"test"</span>, <span class="at">sw =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 DESCRIPTIVES

 Descriptives                                                                  
 ───────────────────────────────────────────────────────────────────────────── 
                         test          Participant    test         score       
 ───────────────────────────────────────────────────────────────────────────── 
   N                     Conceptual              6            6            6   
                         Speech                  6            6            6   
                         Syntax                  6            6            6   
   Missing               Conceptual              0            0            0   
                         Speech                  0            0            0   
                         Syntax                  0            0            0   
   Mean                  Conceptual       3.500000                  6.166667   
                         Speech           3.500000                  7.166667   
                         Syntax           3.500000                  4.333333   
   Median                Conceptual       3.500000                  6.500000   
                         Speech           3.500000                  7.500000   
                         Syntax           3.500000                  4.500000   
   Standard deviation    Conceptual       1.870829                  1.471960   
                         Speech           1.870829                  1.471960   
                         Syntax           1.870829                  1.632993   
   Minimum               Conceptual       1.000000                  4.000000   
                         Speech           1.000000                  5.000000   
                         Syntax           1.000000                  2.000000   
   Maximum               Conceptual       6.000000                  8.000000   
                         Speech           6.000000                  9.000000   
                         Syntax           6.000000                  6.000000   
   Shapiro-Wilk W        Conceptual      0.9818894                 0.9580121   
                         Speech          0.9818894                 0.9580121   
                         Syntax          0.9818894                 0.9199447   
   Shapiro-Wilk p        Conceptual      0.9605550                 0.8042960   
                         Speech          0.9605550                 0.8042960   
                         Syntax          0.9605550                 0.5049626   
 ───────────────────────────────────────────────────────────────────────────── </code></pre>
</div>
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a>one_way_anova <span class="sc">%&gt;%</span></span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggbetweenstats</span>(test, score, <span class="at">pairwise.comparisons =</span> T, <span class="at">pairwise.display =</span> <span class="st">"all"</span>,</span>
<span id="cb133-3"><a href="#cb133-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.type =</span> <span class="st">"box"</span>, <span class="at">type =</span> <span class="st">"p"</span>, <span class="at">bf.message =</span> <span class="cn">FALSE</span>, <span class="at">xlab =</span> <span class="st">"Test"</span>,</span>
<span id="cb133-4"><a href="#cb133-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">ylab =</span> <span class="st">"Score"</span>, <span class="at">centrality.type =</span> <span class="st">"p"</span>, <span class="at">centrality.point.args =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">color =</span> <span class="st">"darkred"</span>),</span>
<span id="cb133-5"><a href="#cb133-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">ggplot.component =</span> <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">18</span>), <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>)),</span>
<span id="cb133-6"><a href="#cb133-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">centrality.label.args =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">5</span>, <span class="at">nudge_x =</span> <span class="fl">0.4</span>, <span class="at">segment.linetype =</span> <span class="dv">4</span>, <span class="at">min.segment.length =</span> <span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-52-1.png" class="img-fluid" width="800"></p>
</div>
</div>
<p>5.3. Непараметричен тест за 2 групи - Wilcoxon W (Mann-Whitney U) test</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a>sheet_15 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"~/Desktop/R/various/jam_data.xlsx"</span>, <span class="at">sheet =</span> <span class="dv">15</span>)</span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb134-3"><a href="#cb134-3" aria-hidden="true" tabindex="-1"></a>sheet_15 <span class="sc">%&gt;%</span></span>
<span id="cb134-4"><a href="#cb134-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggbetweenstats</span>(group, scores,</span>
<span id="cb134-5"><a href="#cb134-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.type =</span> <span class="st">"box"</span>, <span class="at">type =</span> <span class="st">"np"</span>, <span class="at">bf.message =</span> <span class="cn">FALSE</span>, <span class="at">xlab =</span> <span class="st">"Group"</span>,</span>
<span id="cb134-6"><a href="#cb134-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">ylab =</span> <span class="st">"Scores"</span>, <span class="at">centrality.type =</span> <span class="st">"np"</span>, <span class="at">centrality.point.args =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">color =</span> <span class="st">"darkred"</span>),</span>
<span id="cb134-7"><a href="#cb134-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">ggplot.component =</span> <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">18</span>), <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>)),</span>
<span id="cb134-8"><a href="#cb134-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">centrality.label.args =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">5</span>, <span class="at">nudge_x =</span> <span class="fl">0.4</span>, <span class="at">segment.linetype =</span> <span class="dv">4</span>, <span class="at">min.segment.length =</span> <span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-53-1.png" class="img-fluid" width="800"></p>
</div>
</div>
<p>5.4. Непараметричен тест за &gt; 2 групи - Kruskal-Wallis Rank Sum Test</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a>sheet_25 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"~/Desktop/R/various/jam_data.xlsx"</span>, <span class="at">sheet =</span> <span class="dv">25</span>)</span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a>sheet_25 <span class="sc">%&gt;%</span></span>
<span id="cb135-4"><a href="#cb135-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggbetweenstats</span>(drug, mood.gain, </span>
<span id="cb135-5"><a href="#cb135-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">pairwise.comparisons =</span> T, <span class="at">pairwise.display =</span> <span class="st">"all"</span>,</span>
<span id="cb135-6"><a href="#cb135-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.type =</span> <span class="st">"box"</span>, <span class="at">type =</span> <span class="st">"np"</span>, <span class="at">bf.message =</span> <span class="cn">FALSE</span>, <span class="at">xlab =</span> <span class="st">"Drug"</span>, </span>
<span id="cb135-7"><a href="#cb135-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">ylab =</span> <span class="st">"Mood gain"</span>, <span class="at">centrality.type =</span> <span class="st">"np"</span>, <span class="at">centrality.point.args =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">color =</span> <span class="st">"darkred"</span>),</span>
<span id="cb135-8"><a href="#cb135-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">ggplot.component =</span> <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">18</span>), <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>)),</span>
<span id="cb135-9"><a href="#cb135-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">centrality.label.args =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">5</span>, <span class="at">nudge_x =</span> <span class="fl">0.4</span>, <span class="at">segment.linetype =</span> <span class="dv">4</span>, <span class="at">min.segment.length =</span> <span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-54-1.png" class="img-fluid" width="800"></p>
</div>
</div>
<ol start="6" type="1">
<li>Сравняване на зависими (свързани) извадки.</li>
</ol>
<p>6.1. Параметричен тест за 2 групи - Student’s t-test</p>
<p>Условия на теста:</p>
<ul>
<li>нормалност на променливите;</li>
<li>независимост на променливите;</li>
<li>хомогенност на дисперсията.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a>sheet_1 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"~/Desktop/R/various/jam_data.xlsx"</span>, <span class="at">sheet =</span> <span class="dv">1</span>)</span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb136-3"><a href="#cb136-3" aria-hidden="true" tabindex="-1"></a>sheet_1 <span class="sc">%&gt;%</span> <span class="fu">descriptives</span>(<span class="at">splitBy =</span> <span class="st">"treatment"</span>, <span class="at">sw =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 DESCRIPTIVES

 Descriptives                                                                 
 ──────────────────────────────────────────────────────────────────────────── 
                         treatment    ID           treatment    measurement   
 ──────────────────────────────────────────────────────────────────────────── 
   N                     after               10           10             10   
                         before              10           10             10   
   Missing               after                0            0              0   
                         before               0            0              0   
   Mean                  after         15.50000                    17.70000   
                         before        5.500000                    32.00000   
   Median                after         15.50000                    19.00000   
                         before        5.500000                    29.50000   
   Standard deviation    after         3.027650                    10.67760   
                         before        3.027650                    12.16553   
   Minimum               after         11.00000                    2.000000   
                         before        1.000000                    16.00000   
   Maximum               after         20.00000                    31.00000   
                         before        10.00000                    56.00000   
   Shapiro-Wilk W        after        0.9701646                   0.9216051   
                         before       0.9701646                   0.9508846   
   Shapiro-Wilk p        after        0.8923673                   0.3705365   
                         before       0.8923673                   0.6789750   
 ──────────────────────────────────────────────────────────────────────────── </code></pre>
</div>
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a>sheet_1 <span class="sc">%&gt;%</span></span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">treatment =</span> <span class="fu">fct_relevel</span>(treatment, <span class="st">"before"</span>, <span class="st">"after"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggwithinstats</span>(treatment, measurement,</span>
<span id="cb138-4"><a href="#cb138-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.type =</span> <span class="st">"box"</span>, <span class="at">type =</span> <span class="st">"p"</span>, <span class="at">bf.message =</span> <span class="cn">FALSE</span>, <span class="at">xlab =</span> <span class="st">"Treatment"</span>,</span>
<span id="cb138-5"><a href="#cb138-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">ylab =</span> <span class="st">"Measurement"</span>, <span class="at">centrality.type =</span> <span class="st">"p"</span>, <span class="at">centrality.point.args =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">color =</span> <span class="st">"darkred"</span>),</span>
<span id="cb138-6"><a href="#cb138-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">ggplot.component =</span> <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">18</span>), <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>)),</span>
<span id="cb138-7"><a href="#cb138-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">centrality.label.args =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">5</span>, <span class="at">nudge_x =</span> <span class="fl">0.4</span>, <span class="at">segment.linetype =</span> <span class="dv">4</span>, <span class="at">min.segment.length =</span> <span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-55-1.png" class="img-fluid" width="800"></p>
</div>
</div>
<p>6.2. Параметричен тест за &gt; 2 групи - Fisher’s one-way repeated measures ANOVA</p>
<p>Условия на теста:</p>
<ul>
<li>нормалност на променливите;</li>
<li>независимост на променливите;</li>
<li>хомогенност на дисперсията.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a>sheet_18 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"~/Desktop/R/various/jam_data.xlsx"</span>, <span class="at">sheet =</span> <span class="dv">18</span>)</span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-3"><a href="#cb139-3" aria-hidden="true" tabindex="-1"></a>sheet_18 <span class="sc">%&gt;%</span> <span class="fu">descriptives</span>(<span class="at">splitBy =</span> <span class="st">"test"</span>, <span class="at">sw =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 DESCRIPTIVES

 Descriptives                                                            
 ─────────────────────────────────────────────────────────────────────── 
                         test      id           test         grade       
 ─────────────────────────────────────────────────────────────────────── 
   N                     test_1           20           20           20   
                         test_2           20           20           20   
                         test_3           20           20           20   
   Missing               test_1            0            0            0   
                         test_2            0            0            0   
                         test_3            0            0            0   
   Mean                  test_1                               56.98000   
                         test_2                               58.38500   
                         test_3                               66.86000   
   Median                test_1                               57.70000   
                         test_2                               59.70000   
                         test_3                               67.90000   
   Standard deviation    test_1                               6.616137   
                         test_2                               6.405612   
                         test_3                               8.414987   
   Minimum               test_1                               42.90000   
                         test_2                               44.60000   
                         test_3                               52.10000   
   Maximum               test_1                               71.70000   
                         test_2                               72.30000   
                         test_3                               79.30000   
   Shapiro-Wilk W        test_1                              0.9712989   
                         test_2                              0.9696844   
                         test_3                              0.9580571   
   Shapiro-Wilk p        test_1                              0.7820425   
                         test_2                              0.7481945   
                         test_3                              0.5058044   
 ─────────────────────────────────────────────────────────────────────── </code></pre>
</div>
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a>sheet_18 <span class="sc">%&gt;%</span></span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggwithinstats</span>(test, grade, <span class="at">pairwise.comparisons =</span> T, <span class="at">pairwise.display =</span> <span class="st">"all"</span>,</span>
<span id="cb141-3"><a href="#cb141-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.type =</span> <span class="st">"box"</span>, <span class="at">type =</span> <span class="st">"p"</span>, <span class="at">bf.message =</span> <span class="cn">FALSE</span>, <span class="at">xlab =</span> <span class="st">"Test"</span>,</span>
<span id="cb141-4"><a href="#cb141-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">ylab =</span> <span class="st">"Grade"</span>, <span class="at">centrality.type =</span> <span class="st">"p"</span>, <span class="at">centrality.point.args =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">color =</span> <span class="st">"darkred"</span>),</span>
<span id="cb141-5"><a href="#cb141-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">ggplot.component =</span> <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">18</span>), <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>)),</span>
<span id="cb141-6"><a href="#cb141-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">centrality.label.args =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">5</span>, <span class="at">nudge_x =</span> <span class="fl">0.4</span>, <span class="at">segment.linetype =</span> <span class="dv">4</span>, <span class="at">min.segment.length =</span> <span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-56-1.png" class="img-fluid" width="800"></p>
</div>
</div>
<p>6.3. Непараметричен тест за 2 групи - Wilcoxon signed-rank test</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb142"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a>sheet_1 <span class="sc">%&gt;%</span></span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">treatment =</span> <span class="fu">fct_relevel</span>(treatment, <span class="st">"before"</span>, <span class="st">"after"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb142-3"><a href="#cb142-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggwithinstats</span>(treatment, measurement,</span>
<span id="cb142-4"><a href="#cb142-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.type =</span> <span class="st">"box"</span>, <span class="at">type =</span> <span class="st">"np"</span>, <span class="at">bf.message =</span> <span class="cn">FALSE</span>, <span class="at">xlab =</span> <span class="st">"Treatment"</span>,</span>
<span id="cb142-5"><a href="#cb142-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">ylab =</span> <span class="st">"Measurement"</span>, <span class="at">centrality.type =</span> <span class="st">"np"</span>, <span class="at">centrality.point.args =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">color =</span> <span class="st">"darkred"</span>),</span>
<span id="cb142-6"><a href="#cb142-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">ggplot.component =</span> <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">18</span>), <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>)),</span>
<span id="cb142-7"><a href="#cb142-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">centrality.label.args =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">5</span>, <span class="at">nudge_x =</span> <span class="fl">0.4</span>, <span class="at">segment.linetype =</span> <span class="dv">4</span>, <span class="at">min.segment.length =</span> <span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-57-1.png" class="img-fluid" width="800"></p>
</div>
</div>
<p>6.4. Непараметричен тест за &gt; 2 групи - Friedman rank sum test</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a>sheet_18 <span class="sc">%&gt;%</span></span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggwithinstats</span>(test, grade, <span class="at">pairwise.comparisons =</span> T, <span class="at">pairwise.display =</span> <span class="st">"all"</span>,</span>
<span id="cb143-3"><a href="#cb143-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.type =</span> <span class="st">"box"</span>, <span class="at">type =</span> <span class="st">"np"</span>, <span class="at">bf.message =</span> <span class="cn">FALSE</span>, <span class="at">xlab =</span> <span class="st">"Test"</span>, </span>
<span id="cb143-4"><a href="#cb143-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">ylab =</span> <span class="st">"Grade"</span>, <span class="at">centrality.type =</span> <span class="st">"np"</span>, <span class="at">centrality.point.args =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">4</span>, <span class="at">color =</span> <span class="st">"darkred"</span>),</span>
<span id="cb143-5"><a href="#cb143-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">ggplot.component =</span> <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">18</span>), <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>)),</span>
<span id="cb143-6"><a href="#cb143-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">centrality.label.args =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">5</span>, <span class="at">nudge_x =</span> <span class="fl">0.4</span>, <span class="at">segment.linetype =</span> <span class="dv">4</span>, <span class="at">min.segment.length =</span> <span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-58-1.png" class="img-fluid" width="800"></p>
</div>
</div>
<ol start="7" type="1">
<li>Корелационен анализ.</li>
</ol>
<p>7.1. Параметричен - Pearson’s r</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb144"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span> <span class="fu">select</span>(elev, slope, s_ha, s_m2, invasive, rare) <span class="sc">%&gt;%</span> <span class="fu">descriptives</span>(<span class="at">sw =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 DESCRIPTIVES

 Descriptives                                                                                            
 ─────────────────────────────────────────────────────────────────────────────────────────────────────── 
                         elev         slope        s_ha         s_m2          invasive      rare         
 ─────────────────────────────────────────────────────────────────────────────────────────────────────── 
   N                           157          157          157           157           157           157   
   Missing                       0            0            0             0             0             0   
   Mean                   1448.159     18.80255     35.59236      6.496815      2.152866     0.1592357   
   Median                 1385.000     18.00000     37.00000      5.000000      2.000000      0.000000   
   Standard deviation     283.7115     6.791246     16.86293      5.201854      2.094454     0.4737947   
   Minimum                926.0000     3.000000     5.000000      0.000000      0.000000      0.000000   
   Maximum                2121.000     36.00000     76.00000      23.00000      12.00000      2.000000   
   Shapiro-Wilk W        0.9569441    0.9891714    0.9790337     0.8985776     0.8362938     0.3714480   
   Shapiro-Wilk p        0.0000881    0.2695829    0.0171917    &lt; .0000001    &lt; .0000001    &lt; .0000001   
 ─────────────────────────────────────────────────────────────────────────────────────────────────────── </code></pre>
</div>
<div class="sourceCode cell-code" id="cb146"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span></span>
<span id="cb146-2"><a href="#cb146-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggcorrmat</span>(</span>
<span id="cb146-3"><a href="#cb146-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">cor.vars =</span> <span class="fu">c</span>(elev, slope, s_ha, s_m2, invasive, rare), <span class="at">type =</span> <span class="st">"p"</span>,</span>
<span id="cb146-4"><a href="#cb146-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">ggcorrplot.args =</span> <span class="fu">list</span>(<span class="at">method =</span> <span class="st">"square"</span>, <span class="at">outline.color =</span> <span class="st">"black"</span>, <span class="at">pch.cex =</span> <span class="dv">14</span>),</span>
<span id="cb146-5"><a href="#cb146-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">ggplot.component =</span> <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">18</span>), <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-59-1.png" class="img-fluid" width="800"></p>
</div>
</div>
<p>7.2. Непараметричен - Spearman’s ρ</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a>diss <span class="sc">%&gt;%</span></span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggcorrmat</span>(</span>
<span id="cb147-3"><a href="#cb147-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">cor.vars =</span> <span class="fu">c</span>(elev, slope, tree_cover, herb_cover, total_stems), <span class="at">type =</span> <span class="st">"np"</span>,</span>
<span id="cb147-4"><a href="#cb147-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">ggcorrplot.args =</span> <span class="fu">list</span>(<span class="at">method =</span> <span class="st">"square"</span>, <span class="at">outline.color =</span> <span class="st">"black"</span>, <span class="at">pch.cex =</span> <span class="dv">14</span>),</span>
<span id="cb147-5"><a href="#cb147-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">ggplot.component =</span> <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">18</span>), <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-60-1.png" class="img-fluid" width="800"></p>
</div>
</div>
<ol start="8" type="1">
<li>Тестове за номинални данни.</li>
</ol>
<p>8.1. Параметричен тест за независими извадки (тест за независимост/асоциация) - Pearson’s χ2</p>
<p>Условия на теста:</p>
<ul>
<li>извадките са достатъчно големи (&gt; 5 наблюдения);</li>
<li>независимост на променливите.</li>
</ul>
<p>H0 = направеният избор не зависи от субекта;</p>
<p>H1 = направеният избор е асоцииран, зависи от, субекта.</p>
<p>Ако p &lt; 0.05, H0 се отхвърля!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb148"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a>sheet_24 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"~/Desktop/R/various/jam_data.xlsx"</span>, <span class="at">sheet =</span> <span class="dv">24</span>)</span>
<span id="cb148-2"><a href="#cb148-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb148-3"><a href="#cb148-3" aria-hidden="true" tabindex="-1"></a>sheet_24 <span class="sc">%&gt;%</span></span>
<span id="cb148-4"><a href="#cb148-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggbarstats</span>(choice, species,</span>
<span id="cb148-5"><a href="#cb148-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">bf.message =</span> <span class="cn">FALSE</span>,</span>
<span id="cb148-6"><a href="#cb148-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.title =</span> <span class="st">"Choice:"</span>, <span class="at">xlab =</span> <span class="st">"Species"</span>, <span class="at">ylab =</span> <span class="cn">NULL</span>,</span>
<span id="cb148-7"><a href="#cb148-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">ggplot.component =</span> <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-61-1.png" class="img-fluid" width="800"></p>
</div>
</div>
<p><strong>Интерпретация</strong>: тестът на Pearson’s χ2 показа, че има статистически значима асоциация между вида на субекта и неговия избор.</p>
<p>8.2. Параметричен тест за зависими (свързани) извадки - McNemar’s test</p>
<p>Две групи пациенти са питани дали биха използвали дадено лекарство. След като са посочили своя отговор с “да” и “не”, им се показва информационно видео за лекарството. След това, те са питани отново дали биха използвали медикамента.</p>
<p>H0 = показаното видео не е повлияло върху избора на пациентите;</p>
<p>H1 = показаното видео е повлияло върху избора на пациентите.</p>
<p>Ако p &lt; 0.05, H0 се отхвърля!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a>sheet_16 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"~/Desktop/R/various/jam_data.xlsx"</span>, <span class="at">sheet =</span> <span class="dv">16</span>)</span>
<span id="cb149-2"><a href="#cb149-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb149-3"><a href="#cb149-3" aria-hidden="true" tabindex="-1"></a>sheet_16 <span class="sc">%&gt;%</span></span>
<span id="cb149-4"><a href="#cb149-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">treatment =</span> <span class="fu">fct_relevel</span>(treatment, <span class="st">"before"</span>, <span class="st">"after"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb149-5"><a href="#cb149-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggbarstats</span>(response, treatment,</span>
<span id="cb149-6"><a href="#cb149-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">bf.message =</span> <span class="cn">FALSE</span>, <span class="at">paired =</span> T,</span>
<span id="cb149-7"><a href="#cb149-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.title =</span> <span class="st">"Response:"</span>, <span class="at">xlab =</span> <span class="st">"Treatment"</span>, <span class="at">ylab =</span> <span class="cn">NULL</span>,</span>
<span id="cb149-8"><a href="#cb149-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">ggplot.component =</span> <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">14</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-62-1.png" class="img-fluid" width="800"></p>
</div>
</div>
<p>8.3. Параметричен тест за еднаквост на пропорциите - GOF (goodness-of-fit) test</p>
<p>Група хора са помолени да си изберат наум една карта от тесте с карти. След това са помолени отново да изберат карта. С този тест се опитваме да проверим дали картите са избрани напълно случайно. Ако са избрани сличайно, би трябвало боите да присъстват с еднаква вероятност в съответния избор.</p>
<p>H0 = всяка една от боите е избрана с еднаква вероятност;</p>
<p>H1 = поне една от боите е избрана с различна вероятност.</p>
<p>Ако p &lt; 0.05, H0 се отхвърля!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb150"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a>sheet_7 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"~/Desktop/R/various/jam_data.xlsx"</span>, <span class="at">sheet =</span> <span class="dv">7</span>)</span>
<span id="cb150-2"><a href="#cb150-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-3"><a href="#cb150-3" aria-hidden="true" tabindex="-1"></a>ch_1 <span class="ot">&lt;-</span> sheet_7 <span class="sc">%&gt;%</span></span>
<span id="cb150-4"><a href="#cb150-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggpiestats</span>(choice_1,</span>
<span id="cb150-5"><a href="#cb150-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">bf.message =</span> <span class="cn">FALSE</span>,</span>
<span id="cb150-6"><a href="#cb150-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.title =</span> <span class="st">"Card:"</span>, <span class="at">xlab =</span> <span class="cn">NULL</span>, <span class="at">ylab =</span> <span class="cn">NULL</span>,</span>
<span id="cb150-7"><a href="#cb150-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">ggplot.component =</span> <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>)))</span>
<span id="cb150-8"><a href="#cb150-8" aria-hidden="true" tabindex="-1"></a>ch_2 <span class="ot">&lt;-</span> sheet_7 <span class="sc">%&gt;%</span></span>
<span id="cb150-9"><a href="#cb150-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggpiestats</span>(choice_2,</span>
<span id="cb150-10"><a href="#cb150-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">bf.message =</span> <span class="cn">FALSE</span>,</span>
<span id="cb150-11"><a href="#cb150-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.title =</span> <span class="st">"Card:"</span>, <span class="at">xlab =</span> <span class="cn">NULL</span>, <span class="at">ylab =</span> <span class="cn">NULL</span>,</span>
<span id="cb150-12"><a href="#cb150-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">ggplot.component =</span> <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a>ch_1 <span class="sc">/</span> ch_2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-64-1.png" class="img-fluid" width="800"></p>
</div>
</div>
<p><strong>Интерпретация</strong>: от 200-те участини, при първия избор, 32% са избрали купа, 25% са избрали спатия, 26% са избрали каро и 18% са избрали пика. GOF тестът е значим, което означава, че картите са избрани на неслучаен принцип. Същото се повтаря и при вторият тест, само че с различна боя карти.</p>
<ol start="9" type="1">
<li>Анализ на размера на извадката и силата на теста.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb152"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pwr)</span>
<span id="cb152-2"><a href="#cb152-2" aria-hidden="true" tabindex="-1"></a>t_test <span class="ot">&lt;-</span> <span class="fu">pwr.t.test</span>(<span class="at">n =</span> <span class="cn">NULL</span>, <span class="at">d =</span> <span class="fl">0.5</span>, <span class="at">sig.level =</span> <span class="fl">0.05</span>, <span class="at">power =</span> <span class="fl">0.8</span>,</span>
<span id="cb152-3"><a href="#cb152-3" aria-hidden="true" tabindex="-1"></a>           <span class="at">type =</span> <span class="fu">c</span>(<span class="st">"paired"</span>), <span class="at">alternative =</span> <span class="fu">c</span>(<span class="st">"two.sided"</span>))</span>
<span id="cb152-4"><a href="#cb152-4" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(t_test, <span class="at">xlab =</span> <span class="st">"Sample size"</span>, <span class="at">ylab =</span> <span class="st">"Power"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-65-1.png" class="img-fluid" width="800"></p>
</div>
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a>anova <span class="ot">&lt;-</span> <span class="fu">pwr.anova.test</span>(<span class="at">k =</span> <span class="dv">4</span>, <span class="at">n =</span> <span class="cn">NULL</span>, <span class="at">f =</span> <span class="fl">0.25</span>, <span class="at">sig.level =</span> <span class="fl">0.05</span>, <span class="at">power =</span> <span class="fl">0.8</span>)</span>
<span id="cb153-2"><a href="#cb153-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(anova, <span class="at">xlab =</span> <span class="st">"Sample size"</span>, <span class="at">ylab =</span> <span class="st">"Power"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-65-2.png" class="img-fluid" width="800"></p>
</div>
</div>
<ol start="10" type="1">
<li>Анализ на геномни данни.</li>
</ol>
<p>Първият пример касае данни от генната експресия на 60 проби от костен мозък на пациенти с един от четирите основни вида левкемия (ALL, AML, CLL, CML), както и контролна група без левкемия. Този набор от данни включва 1000-та най-променливи гени, тъй като гените, които не са много променливи, не допринасят много за разстоянията между пациентите.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb154"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pheatmap)</span>
<span id="cb154-2"><a href="#cb154-2" aria-hidden="true" tabindex="-1"></a>leu <span class="ot">&lt;-</span> <span class="fu">read_rds</span>(<span class="st">"leu_genes.rds"</span>)</span>
<span id="cb154-3"><a href="#cb154-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb154-4"><a href="#cb154-4" aria-hidden="true" tabindex="-1"></a>groups <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(Тип_левкемия <span class="ot">=</span> <span class="fu">substr</span>(<span class="fu">colnames</span>(leu), <span class="dv">1</span>, <span class="dv">3</span>))</span>
<span id="cb154-5"><a href="#cb154-5" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(groups)<span class="ot">=</span> <span class="fu">colnames</span>(leu)</span>
<span id="cb154-6"><a href="#cb154-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb154-7"><a href="#cb154-7" aria-hidden="true" tabindex="-1"></a><span class="fu">pheatmap</span>(leu, <span class="at">show_rownames =</span> <span class="cn">FALSE</span>, <span class="at">show_colnames =</span> <span class="cn">FALSE</span>,</span>
<span id="cb154-8"><a href="#cb154-8" aria-hidden="true" tabindex="-1"></a>         <span class="at">annotation_col =</span> groups,</span>
<span id="cb154-9"><a href="#cb154-9" aria-hidden="true" tabindex="-1"></a>         <span class="at">scale =</span> <span class="st">"none"</span>, <span class="at">clustering_method=</span><span class="st">"ward.D2"</span>,</span>
<span id="cb154-10"><a href="#cb154-10" aria-hidden="true" tabindex="-1"></a>         <span class="at">clustering_distance_cols =</span> <span class="st">"euclidean"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-66-1.png" class="img-fluid" width="800"></p>
</div>
</div>
<p>Както се вижда на топлинната карта, всеки клъстер има различен набор от стойности на генната експресия. Основните клъстери почти перфектно разграничават видовете левкемия. Само един пациент с CML е групиран като проба без левкемия. Това показва, че профилите на генната експресия са достатъчни за класифициране на типа левкемия. Необходими са по-подробни анализи и експерименти, за да се потвърди това, но този първичен анализ, ни ориентира къде да съсредоточим усилията си по-нататък.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb155"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(factoextra)</span>
<span id="cb155-2"><a href="#cb155-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(FactoMineR)</span>
<span id="cb155-3"><a href="#cb155-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb155-4"><a href="#cb155-4" aria-hidden="true" tabindex="-1"></a>leu_t <span class="ot">&lt;-</span> <span class="fu">t</span>(leu)</span>
<span id="cb155-5"><a href="#cb155-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb155-6"><a href="#cb155-6" aria-hidden="true" tabindex="-1"></a>res.pca <span class="ot">&lt;-</span> <span class="fu">PCA</span>(leu_t, <span class="at">scale.unit =</span> <span class="cn">TRUE</span>, <span class="at">ncp =</span> <span class="dv">5</span>, <span class="at">ind.sup =</span> <span class="cn">NULL</span>,</span>
<span id="cb155-7"><a href="#cb155-7" aria-hidden="true" tabindex="-1"></a>             <span class="at">quanti.sup =</span> <span class="cn">NULL</span>, <span class="at">quali.sup =</span> <span class="cn">NULL</span>, <span class="at">row.w =</span> <span class="cn">NULL</span>,</span>
<span id="cb155-8"><a href="#cb155-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">col.w =</span> <span class="cn">NULL</span>, <span class="at">graph =</span> F, <span class="at">axes =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>))</span>
<span id="cb155-9"><a href="#cb155-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb155-10"><a href="#cb155-10" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_eig</span>(res.pca, <span class="at">addlabels =</span> <span class="cn">TRUE</span>, <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">40</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-67-1.png" class="img-fluid" width="800"></p>
</div>
<div class="sourceCode cell-code" id="cb156"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_pca_ind</span>(</span>
<span id="cb156-2"><a href="#cb156-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">X =</span> res.pca,</span>
<span id="cb156-3"><a href="#cb156-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">axes =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>),</span>
<span id="cb156-4"><a href="#cb156-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="st">"Подреждане на пациентите в ординационното пространство в зависимост от</span><span class="sc">\n</span><span class="st">приноса им за формирането на главните компоненти"</span>,</span>
<span id="cb156-5"><a href="#cb156-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">geom =</span> <span class="fu">c</span>(<span class="st">"point"</span>, <span class="st">"text"</span>),</span>
<span id="cb156-6"><a href="#cb156-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">geom.ind =</span> <span class="fu">c</span>(<span class="st">"point"</span>, <span class="st">"text"</span>),</span>
<span id="cb156-7"><a href="#cb156-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">repel =</span> <span class="cn">TRUE</span>,</span>
<span id="cb156-8"><a href="#cb156-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">habillage =</span> <span class="st">"none"</span>,</span>
<span id="cb156-9"><a href="#cb156-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">palette =</span> <span class="cn">NULL</span>,</span>
<span id="cb156-10"><a href="#cb156-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">addEllipses =</span> <span class="cn">FALSE</span>,</span>
<span id="cb156-11"><a href="#cb156-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">col.ind =</span> <span class="st">"contrib"</span>,</span>
<span id="cb156-12"><a href="#cb156-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">fill.ind =</span> <span class="st">"white"</span>,</span>
<span id="cb156-13"><a href="#cb156-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">col.ind.sup =</span> <span class="st">"blue"</span>,</span>
<span id="cb156-14"><a href="#cb156-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">gradient.cols =</span> <span class="fu">c</span>(<span class="st">"#00AFBB"</span>, <span class="st">"#E7B800"</span>, <span class="st">"#FC4E07"</span>),</span>
<span id="cb156-15"><a href="#cb156-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">alpha.ind =</span> <span class="dv">1</span>,</span>
<span id="cb156-16"><a href="#cb156-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">select.ind =</span> <span class="fu">list</span>(<span class="at">name =</span> <span class="cn">NULL</span>, <span class="at">cos2 =</span> <span class="cn">NULL</span>, <span class="at">contrib =</span> <span class="cn">NULL</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-67-2.png" class="img-fluid" width="800"></p>
</div>
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="fu">fviz_pca_biplot</span>(</span>
<span id="cb157-2"><a href="#cb157-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">X =</span> res.pca,</span>
<span id="cb157-3"><a href="#cb157-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">axes =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>,</span>
<span id="cb157-4"><a href="#cb157-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">title =</span> <span class="cn">NULL</span>,</span>
<span id="cb157-5"><a href="#cb157-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">geom.ind =</span> <span class="fu">c</span>(<span class="st">"point"</span>, <span class="st">"text"</span>),</span>
<span id="cb157-6"><a href="#cb157-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">geom.var =</span> <span class="fu">c</span>(<span class="st">"arrow"</span>, <span class="st">"text"</span>),</span>
<span id="cb157-7"><a href="#cb157-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">select.var =</span> <span class="fu">list</span>(<span class="at">contrib =</span> <span class="dv">20</span>),</span>
<span id="cb157-8"><a href="#cb157-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">col.ind =</span> groups<span class="sc">$</span>Тип_левкемия,</span>
<span id="cb157-9"><a href="#cb157-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">fill.ind =</span> groups<span class="sc">$</span>Тип_левкемия,</span>
<span id="cb157-10"><a href="#cb157-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">col.var =</span> <span class="st">"black"</span>,</span>
<span id="cb157-11"><a href="#cb157-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">fill.var =</span> <span class="st">"black"</span>,</span>
<span id="cb157-12"><a href="#cb157-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">gradient.cols =</span> <span class="cn">NULL</span>,</span>
<span id="cb157-13"><a href="#cb157-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">label =</span> <span class="st">"all"</span>,</span>
<span id="cb157-14"><a href="#cb157-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">invisible =</span> <span class="st">"none"</span>,</span>
<span id="cb157-15"><a href="#cb157-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">repel =</span> <span class="cn">TRUE</span>,</span>
<span id="cb157-16"><a href="#cb157-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">habillage =</span> <span class="st">"none"</span>,</span>
<span id="cb157-17"><a href="#cb157-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">palette =</span> <span class="st">"Dark2"</span>,</span>
<span id="cb157-18"><a href="#cb157-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">addEllipses =</span> T,</span>
<span id="cb157-19"><a href="#cb157-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">ellipse.type =</span> <span class="st">"convex"</span>,</span>
<span id="cb157-20"><a href="#cb157-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">pointshape =</span> <span class="dv">21</span>,</span>
<span id="cb157-21"><a href="#cb157-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">pointsize =</span> <span class="dv">3</span>,</span>
<span id="cb157-22"><a href="#cb157-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">labelsize =</span> <span class="dv">3</span>,</span>
<span id="cb157-23"><a href="#cb157-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">arrowsize =</span> <span class="fl">0.7</span>,</span>
<span id="cb157-24"><a href="#cb157-24" aria-hidden="true" tabindex="-1"></a>  <span class="at">mean.point =</span> <span class="cn">FALSE</span>,</span>
<span id="cb157-25"><a href="#cb157-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">legend.title =</span> <span class="st">"Тип левкемия:"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="lecture_stats_files/figure-html/unnamed-chunk-67-3.png" class="img-fluid" width="800"></p>
</div>
</div>

</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-navarro2013learning" class="csl-entry" role="doc-biblioentry">
Navarro, Daniel. 2013. <em>Learning Statistics with r</em>. Lulu. com.
</div>
<div id="ref-ggstatsplot" class="csl-entry" role="doc-biblioentry">
Patil, Indrajeet. 2021a. <span>“<span></span>Visualizations with Statistical Details: The <span></span>’Ggstatsplot’<span></span> Approach<span></span>”</span> 6: 3167. <a href="https://doi.org/10.21105/joss.03167">https://doi.org/10.21105/joss.03167</a>.
</div>
<div id="ref-ggstatsplot-2" class="csl-entry" role="doc-biblioentry">
———. 2021b. <span>“<span></span>Visualizations with Statistical Details: The <span></span>’Ggstatsplot’<span></span> Approach<span></span>”</span> 6: 3167. <a href="https://doi.org/10.21105/joss.03167">https://doi.org/10.21105/joss.03167</a>.
</div>
<div id="ref-wickham2016r" class="csl-entry" role="doc-biblioentry">
Wickham, Hadley, and Garrett Grolemund. 2016. <em>R for Data Science: Import, Tidy, Transform, Visualize, and Model Data</em>. " O’Reilly Media, Inc.".
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>